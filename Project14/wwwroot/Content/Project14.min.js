(function(n){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});n.WebSharper={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i of Object.getOwnPropertyNames(n))t[i]=n[i];return Object.setPrototypeOf(t,Object.getPrototypeOf(n)),t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},PrintObject:function(n){var t="{ ",i=!0;for(var r of Object.getOwnPropertyNames(n))i?i=!1:t+=", ",t+=r+" = "+n[r];return t+(i?"}":" }")},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return WebSharper.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:WebSharper.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},MarkResizable:function(n){return Object.defineProperty(n,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),n},MarkReadOnly:function(n){return Object.defineProperty(n,"readonly",{enumerable:!1,writable:!1,configurable:!1,value:!0}),n},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};n.WebSharper.Runtime.OnLoad(function(){n.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});n.ignore=function(){};n.id=function(n){return n};n.fst=function(n){return n[0]};n.snd=function(n){return n[1]};n.trd=function(n){return n[2]};n.console||(n.console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore})})(self);
/* https://github.com/jonathantneal/closest */
(function(w,p){p=w.Element.prototype
if(!p.matches){p.matches=p.msMatchesSelector||function(s){var m=(this.document||this.ownerDocument).querySelectorAll(s);for(var i=0;m[i]&&m[i]!==e;++i);return!!m[i]}}
if(!p.closest){p.closest=function(s){var e=this;while(e&&e.nodeType==1){if(e.matches(s))return e;e=e.parentNode}return null}}})(self);
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5;b=a.Project14=a.Project14||{};c=b.Client=b.Client||{};d=a.WebSharper=a.WebSharper||{};e=d.Obj=d.Obj||{};f=d.UI=d.UI||{};g=f.Var$1=f.Var$1||{};h=d.Operators=d.Operators||{};i=f.Templating=f.Templating||{};j=i.Runtime=i.Runtime||{};k=j.Server=j.Server||{};l=k.TemplateInstance=k.TemplateInstance||{};m=d.Arrays=d.Arrays||{};n=k.ProviderBuilder=k.ProviderBuilder||{};o=k.Handler=k.Handler||{};p=d.Strings=d.Strings||{};q=f.Var=f.Var||{};r=f.TemplateHole=f.TemplateHole||{};s=a.EventTarget;t=a.WindowOrWorkerGlobalScope;u=d.JavaScript=d.JavaScript||{};v=u.JS=u.JS||{};w=d.Unchecked=d.Unchecked||{};x=a.Project14_Templates=a.Project14_Templates||{};y=f.ConcreteVar=f.ConcreteVar||{};z=f.Snap=f.Snap||{};A=a.System=a.System||{};B=A.Guid=A.Guid||{};C=f.TemplateHoleModule=f.TemplateHoleModule||{};D=C.EventQ=C.EventQ||{};E=d.Collections=d.Collections||{};F=E.Dictionary=E.Dictionary||{};G=a.Object;H=u.Pervasives=u.Pervasives||{};I=f.Client=f.Client||{};J=I.Templates=I.Templates||{};K=f.Doc=f.Doc||{};L=f.Abbrev=f.Abbrev||{};M=L.Fresh=L.Fresh||{};N=a.Node;O=E.HashSet=E.HashSet||{};P=d.Seq=d.Seq||{};Q=k.TemplateInitializer=k.TemplateInitializer||{};R=C.VarStr=C.VarStr||{};S=C.VarFloatUnchecked=C.VarFloatUnchecked||{};T=C.VarBool=C.VarBool||{};U=C.VarDateTime=C.VarDateTime||{};V=C.VarFile=C.VarFile||{};W=C.VarDomElement=C.VarDomElement||{};X=f.View=f.View||{};Y=d.Numeric=d.Numeric||{};Z=E.DictionaryUtil=E.DictionaryUtil||{};_0=d.Enumerator=d.Enumerator||{};_1=_0.T=_0.T||{};_2=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_3=f.Docs=f.Docs||{};_4=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_5=f.DocElemNode=f.DocElemNode||{};_6=a.CharacterData;_7=a.Error;_8=d.KeyNotFoundException=d.KeyNotFoundException||{};_9=a.Blob;_=f.Elt=f.Elt||{};$=a.Element;ba=J.Prepare=J.Prepare||{};bb=d.Slice=d.Slice||{};bc=f.DomUtility=f.DomUtility||{};bd=E.KeyCollection=E.KeyCollection||{};be=f.An=f.An||{};bf=I.Settings=I.Settings||{};bg=L.Mailbox=L.Mailbox||{};bh=I.Attrs=I.Attrs||{};bi=bh.Dyn=bh.Dyn||{};bj=f.Attrs=f.Attrs||{};bk=C.Elt=C.Elt||{};bl=C.Text=C.Text||{};bm=C.Attribute=C.Attribute||{};bn=C.Event=C.Event||{};bo=f.AttrModule=f.AttrModule||{};bp=f.AttrProxy=f.AttrProxy||{};bq=C.AfterRender=C.AfterRender||{};br=C.AfterRenderQ=C.AfterRenderQ||{};bs=d.List=d.List||{};bt=bs.T=bs.T||{};bu=f.Array=f.Array||{};bv=f.Updates=f.Updates||{};bw=E.ValueCollection=E.ValueCollection||{};bx=I.Docs=I.Docs||{};by=bx.RunState=bx.RunState||{};bz=bx.NodeSet=bx.NodeSet||{};bA=d.Concurrency=d.Concurrency||{};bB=f.Anims=f.Anims||{};bC=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bD=E.HashSetUtil=E.HashSetUtil||{};bE=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bF=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bG=f.AppendList=f.AppendList||{};bH=f.DynamicAttrNode=f.DynamicAttrNode||{};bI=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bJ=bA.Scheduler=bA.Scheduler||{};bK=f.Easing=f.Easing||{};bL=bA.AsyncBody=bA.AsyncBody||{};bM=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bN=bA.CT=bA.CT||{};bO=L.HashSet=L.HashSet||{};bP=f.BindVar=f.BindVar||{};bQ=f.String=f.String||{};bR=f.CheckedInput=f.CheckedInput||{};bS=d.CancellationTokenSource=d.CancellationTokenSource||{};bT=bx.DomNodes=bx.DomNodes||{};bU=d.Char=d.Char||{};bV=d.DateUtil=d.DateUtil||{};bW=d.OperationCanceledException=d.OperationCanceledException||{};bX=d.Lazy=d.Lazy||{};bY=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bZ=d.Queue=d.Queue||{};b0=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};b1=b0.LazyRecord=b0.LazyRecord||{};b2=d&&d.Runtime;b3=a.console;b4=a.Math;b5=a.Date;c.Main=function(){var b6,b7,b8,b9,b_;g.Create$1(true);g.Create$1(true);g.Create$1(true);g.Create$1(true);b6=(b7=(b8=new n.New$1(),(b8.h.push(o.EventQ2(b8.k,"click",function(){return b8.i;},function(b$){var ca;b$.Event.preventDefault();ca=r.Value(b$.Vars.Hole("email")).Get();if(p.length(r.Value(b$.Vars.Hole("password")).Get())!==0&&p.length(r.Value(b$.Vars.Hole("email")).Get())!==0&&p.length(r.Value(b$.Vars.Hole("firstname")).Get())!==0&&p.length(r.Value(b$.Vars.Hole("lastname")).Get())!==0&&c.isEmailValid(ca))self.location.assign("https://www.linkedin.com/in/om-gawde-692073272/");else a.alert("Please make sure all your details have been entered correctly.");})),b8)),(b9=o.CompleteHoles(b7.k,b7.h,[["firstname",0,null],["lastname",0,null],["email",0,null],["password",0,null],["rememberme",2,null]]),(b_=new l.New(b9[1],x.main(b9[0])),b7.i=b_,b_))).get_Doc();J.LoadLocalTemplates("");K.RunById("main",b6);};c.isEmailValid=function(b6){return(new a.RegExp("^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$")).test(b6);};e=d.Obj=b2.Class({Equals:function(b6){return this===b6;},GetHashCode:function(){return -1;}},null,e);e.New=b2.Ctor(function(){},e);g=f.Var$1=b2.Class({},e,g);g.Create$1=function(b6){return new y.New(false,z.New({$:2,$0:b6,$1:[]}),b6);};h.FailWith=function(b6){throw new _7(b6);};h.KeyValue=function(b6){return[b6.K,b6.V];};h.range=function(b6,b7){var b8;b8=1+b7-b6;return b8<=0?[]:P.init(b8,function(b9){return b9+b6;});};l=k.TemplateInstance=b2.Class({get_Doc:function(){return this.doc;},Hole:function(b6){return this.allVars.Item(b6);},SetAnchorRoot:function(b6){this.anchorRoot=b6;}},e,l);l.New=b2.Ctor(function(b6,b7){e.New.call(this);this.doc=b7;this.allVars=b6.$==0?b6.$0:h.FailWith("Should not happen");this.anchorRoot=null;},l);m.get=function(b6,b7){m.checkBounds(b6,b7);return b6[b7];};m.length=function(b6){return b6.dims===2?b6.length*b6.length:b6.length;};m.checkBounds=function(b6,b7){if(b7<0||b7>=b6.length)h.FailWith("Index was outside the bounds of the array.");};m.set=function(b6,b7,b8){m.checkBounds(b6,b7);b6[b7]=b8;};n=k.ProviderBuilder=b2.Class({},e,n);n.New$1=b2.Ctor(function(){var b6;e.New.call(this);this.i=null;this.k=(b6=B.NewGuid(),a.String(b6));this.h=b2.MarkResizable([]);b2.SetOptional(this,"s",null);},n);o.EventQ2=function(b6,b7,b8,b9){return new D.New(b7,function(b_){return function(b$){var ca;ca=b8();ca.SetAnchorRoot(b_);return b9({Vars:ca,Anchors:ca,Target:b_,Event:b$});};});};o.CompleteHoles=function(b6,b7,b8){var b_,b$,ca,cb,cc;function b9(cd,ce,cf){var cg;return b$.Contains(cd)?null:(cg=w.Equals(ce,0)?Q.GetOrAddHoleFor(b6,cd,function(){return new R.New(cd,g.Create$1(""));}):w.Equals(ce,1)?Q.GetOrAddHoleFor(b6,cd,function(){return new S.New(cd,g.Create$1(0));}):w.Equals(ce,2)?Q.GetOrAddHoleFor(b6,cd,function(){return new T.New(cd,g.Create$1(false));}):w.Equals(ce,3)?Q.GetOrAddHoleFor(b6,cd,function(){return new U.New(cd,g.Create$1(-8640000000000000));}):w.Equals(ce,4)?Q.GetOrAddHoleFor(b6,cd,function(){return new V.New(cd,g.Create$1([]));}):w.Equals(ce,5)?Q.GetOrAddHoleFor(b6,cd,function(){var ch;ch=self.document.querySelector("[ws-dom="+cd+"]");ch.removeAttribute("ws-dom");return new W.New(cd,g.Create$1({$:1,$0:ch}));}):h.FailWith("Invalid value type"),(b_.set_Item(cd,cg),{$:1,$0:cg}));}b_=new F.New$5();b$=new O.New$3();ca=_0.Get(b7);try{while(ca.MoveNext()){cb=ca.Current();cc=cb.get_Name();b$.SAdd(cc);b_.set_Item(cc,cb);}}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}return[P.append(b7,m.choose(function(cd){return b9(cd[0],cd[1],cd[2]);},b8)),{$:0,$0:b_}];};p.length=function(b6){return p.protect(b6).length;};p.protect=function(b6){return b6==null?"":b6;};p.concat=function(b6,b7){return m.ofSeq(b7).join(b6);};p.SplitChars=function(b6,b7,b8){return p.Split(b6,new a.RegExp("["+p.RegexEscape(b7.join(""))+"]"),b8);};p.StartsWith=function(b6,b7){return b6.substring(0,b7.length)==b7;};p.Split=function(b6,b7,b8){return b8===1?m.filter(function(b9){return b9!=="";},p.SplitWith(b6,b7)):p.SplitWith(b6,b7);};p.RegexEscape=function(b6){return b6.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};p.SplitWith=function(b6,b7){return b6.split(b7);};p.forall=function(b6,b7){return P.forall(b6,p.protect(b7));};q=f.Var=b2.Class({},e,q);q.New=b2.Ctor(function(){e.New.call(this);},q);r=f.TemplateHole=b2.Class({ForTextView:function(){b3.warn("Content hole filled with attribute data",this.get_Name());return null;},AddAttribute:function(b6,b7){b3.warn("Var hole filled with non-Var data",this.get_Name());},get_AsChoiceView:function(){b3.warn("Attribute value hole filled with non-text data",this.get_Name());return{$:0,$0:""};}},e,r);r.Value=function(b6){return b6.get_ValueObj();};r.New=b2.Ctor(function(){e.New.call(this);},r);v.GetFieldValues=function(b6){var b7,b8;b7=[];for(var b9 in b6)b7.push(b6[b9]);return b7;};w.Equals=function(b6,b7){var b8,b9,b_,b$;if(b6===b7)return true;else{b8=typeof b6;if(b8=="object"){if(b6===null||b6===void 0||b7===null||b7===void 0||!w.Equals(typeof b7,"object"))return false;else if("Equals"in b6)return b6.Equals(b7);else if("Equals"in b7)return false;else if(b6 instanceof a.Array&&b7 instanceof a.Array)return w.arrayEquals(b6,b7);else if(b6 instanceof a.Date&&b7 instanceof a.Date)return w.dateEquals(b6,b7);else{b9=[true];for(var ca in b6)if(function(cb){b9[0]=!b6.hasOwnProperty(cb)||b7.hasOwnProperty(cb)&&w.Equals(b6[cb],b7[cb]);return!b9[0];}(ca))break;if(b9[0]){for(var cb in b7)if(function(cc){b9[0]=!b7.hasOwnProperty(cc)||b6.hasOwnProperty(cc);return!b9[0];}(cb))break;}return b9[0];}}else return b8=="function"&&("$Func"in b6?b6.$Func===b7.$Func&&b6.$Target===b7.$Target:"$Invokes"in b6&&"$Invokes"in b7&&w.arrayEquals(b6.$Invokes,b7.$Invokes));}};w.arrayEquals=function(b6,b7){var b8,b9;if(m.length(b6)===m.length(b7)){b8=true;b9=0;while(b8&&b9<m.length(b6)){!w.Equals(m.get(b6,b9),m.get(b7,b9))?b8=false:void 0;b9=b9+1;}return b8;}else return false;};w.dateEquals=function(b6,b7){return b6.getTime()===b7.getTime();};w.Hash=function(b6){var b7;b7=typeof b6;return b7=="function"?0:b7=="boolean"?b6?1:0:b7=="number"?b6:b7=="string"?w.hashString(b6):b7=="object"?b6==null?0:b6 instanceof a.Array?w.hashArray(b6):w.hashObject(b6):0;};w.hashString=function(b6){var b7,b8,b9;if(b6===null)return 0;else{b7=5381;for(b8=0,b9=b6.length-1;b8<=b9;b8++)b7=w.hashMix(b7,b6[b8].charCodeAt());return b7;}};w.hashArray=function(b6){var b7,b8,b9;b7=-34948909;for(b8=0,b9=m.length(b6)-1;b8<=b9;b8++)b7=w.hashMix(b7,w.Hash(m.get(b6,b8)));return b7;};w.hashObject=function(b6){var b7,b8;if("GetHashCode"in b6)return b6.GetHashCode();else{b7=[0];for(var b9 in b6)if(function(b_){b7[0]=w.hashMix(w.hashMix(b7[0],w.hashString(b_)),w.Hash(b6[b_]));return false;}(b9))break;return b7[0];}};w.hashMix=function(b6,b7){return(b6<<5)+b6+b7;};w.Compare=function(b6,b7){var b8,b9,b_,b$,ca,cb;if(b6===b7)return 0;else{b9=typeof b6;switch(b9=="function"?1:b9=="boolean"?2:b9=="number"?2:b9=="string"?2:b9=="object"?3:0){case 0:return typeof b7=="undefined"?0:-1;case 1:return h.FailWith("Cannot compare function values.");case 2:return b6<b7?-1:1;case 3:if(b6===null)b_=-1;else if(b7===null)b_=1;else if("CompareTo"in b6)b_=b6.CompareTo(b7);else if("CompareTo0"in b6)b_=b6.CompareTo0(b7);else if(b6 instanceof a.Array&&b7 instanceof a.Array)b_=w.compareArrays(b6,b7);else if(b6 instanceof a.Date&&b7 instanceof a.Date)b_=w.compareDates(b6,b7);else{b$=[0];for(var cc in b6)if(function(cd){return!b6.hasOwnProperty(cd)?false:!b7.hasOwnProperty(cd)?(b$[0]=1,true):(b$[0]=w.Compare(b6[cd],b7[cd]),b$[0]!==0);}(cc))break;if(b$[0]===0){for(var cd in b7)if(function(ce){return!b7.hasOwnProperty(ce)?false:!b6.hasOwnProperty(ce)&&(b$[0]=-1,true);}(cd))break;}b_=b$[0];}return b_;}}};w.compareArrays=function(b6,b7){var b8,b9;if(m.length(b6)<m.length(b7))return -1;else if(m.length(b6)>m.length(b7))return 1;else{b8=0;b9=0;while(b8===0&&b9<m.length(b6)){b8=w.Compare(m.get(b6,b9),m.get(b7,b9));b9=b9+1;}return b8;}};w.compareDates=function(b6,b7){return w.Compare(b6.getTime(),b7.getTime());};x.main=function(b6){J.LoadLocalTemplates("index");return b6?J.NamedTemplate("index",{$:1,$0:"main"},b6):void 0;};y=f.ConcreteVar=b2.Class({Get:function(){return this.current;},SetFinal:function(b6){if(this.isConst)(function(b7){return b7("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b7){b3.log(b7);}));else{z.Obsolete(this.snap);this.isConst=true;this.current=b6;this.snap=z.New({$:0,$0:b6});}},Set:function(b6){if(this.isConst)(function(b7){return b7("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b7){b3.log(b7);}));else{z.Obsolete(this.snap);this.current=b6;this.snap=z.New({$:2,$0:b6,$1:[]});}},get_View:function(){return this.view;},UpdateMaybe:function(b6){var b7;b7=b6(this.Get());if(b7!=null&&b7.$==1)this.Set(b7.$0);}},q,y);y.New=b2.Ctor(function(b6,b7,b8){var b9;b9=this;q.New.call(this);this.isConst=b6;this.current=b8;this.snap=b7;this.view=function(){return b9.snap;};this.id=M.Int();},y);z.WhenRun=function(b6,b7,b8){var b9;b9=b6.s;if(b9==null)b8();else b9!=null&&b9.$==2?(b9.$1.push(b8),b7(b9.$0)):b9!=null&&b9.$==3?(b9.$0.push(b7),b9.$1.push(b8)):b7(b9.$0);};z.Map=function(b6,b7){var b8,b9;b8=b7.s;return b8!=null&&b8.$==0?z.New({$:0,$0:b6(b8.$0)}):(b9=z.New({$:3,$0:[],$1:[]}),(z.When(b7,function(b_){z.MarkDone(b9,b7,b6(b_));},b9),b9));};z.Map3=function(b6,b7,b8,b9){var b_,b$,ca,cb;function cc(cd){var ce,cf,cg,ch;if(!(ce=cb.s,ce!=null&&ce.$==0||ce!=null&&ce.$==2)){cf=z.ValueAndForever(b7);cg=z.ValueAndForever(b8);ch=z.ValueAndForever(b9);if(cf!=null&&cf.$==1)cg!=null&&cg.$==1?ch!=null&&ch.$==1?cf.$0[1]&&cg.$0[1]&&ch.$0[1]?z.MarkForever(cb,b6(cf.$0[0],cg.$0[0],ch.$0[0])):z.MarkReady(cb,b6(cf.$0[0],cg.$0[0],ch.$0[0])):void 0:void 0;}}b_=b7.s;b$=b8.s;ca=b9.s;return b_!=null&&b_.$==0?b$!=null&&b$.$==0?ca!=null&&ca.$==0?z.New({$:0,$0:b6(b_.$0,b$.$0,ca.$0)}):z.Map3Opt1(b6,b_.$0,b$.$0,b9):ca!=null&&ca.$==0?z.Map3Opt2(b6,b_.$0,ca.$0,b8):z.Map3Opt3(b6,b_.$0,b8,b9):b$!=null&&b$.$==0?ca!=null&&ca.$==0?z.Map3Opt4(b6,b$.$0,ca.$0,b7):z.Map3Opt5(b6,b$.$0,b7,b9):ca!=null&&ca.$==0?z.Map3Opt6(b6,ca.$0,b7,b8):(cb=z.New({$:3,$0:[],$1:[]}),(z.When(b7,cc,cb),z.When(b8,cc,cb),z.When(b9,cc,cb),cb));};z.Sequence=function(b6){var b7,b8,b9;function b_(b$){var ca;if(b9[0]===0){ca=m.map(function(cb){var cc;cc=cb.s;return cc!=null&&cc.$==0?cc.$0:cc!=null&&cc.$==2?cc.$0:h.FailWith("value not found by View.Sequence");},b7);if(m.forall(function(cb){var cc;cc=cb.s;return cc!=null&&cc.$==0;},b7))z.MarkForever(b8,ca);else z.MarkReady(b8,ca);}else b9[0]=b9[0]-1;}b7=m.ofSeq(b6);return b7.length==0?z.New({$:0,$0:[]}):(b8=z.New({$:3,$0:[],$1:[]}),(b9=[m.length(b7)-1],(m.iter(function(b$){z.When(b$,b_,b8);},b7),b8)));};z.Map2=function(b6,b7,b8){var b9,b_,b$;function ca(cb){var cc,cd,ce;if(!(cc=b$.s,cc!=null&&cc.$==0||cc!=null&&cc.$==2)){cd=z.ValueAndForever(b7);ce=z.ValueAndForever(b8);if(cd!=null&&cd.$==1)ce!=null&&ce.$==1?cd.$0[1]&&ce.$0[1]?z.MarkForever(b$,b6(cd.$0[0],ce.$0[0])):z.MarkReady(b$,b6(cd.$0[0],ce.$0[0])):void 0;}}b9=b7.s;b_=b8.s;return b9!=null&&b9.$==0?b_!=null&&b_.$==0?z.New({$:0,$0:b6(b9.$0,b_.$0)}):z.Map2Opt1(b6,b9.$0,b8):b_!=null&&b_.$==0?z.Map2Opt2(b6,b_.$0,b7):(b$=z.New({$:3,$0:[],$1:[]}),(z.When(b7,ca,b$),z.When(b8,ca,b$),b$));};z.Map2Unit=function(b6,b7){var b8,b9,b_;function b$(){var ca,cb,cc;if(!(ca=b_.s,ca!=null&&ca.$==0||ca!=null&&ca.$==2)){cb=z.ValueAndForever(b6);cc=z.ValueAndForever(b7);if(cb!=null&&cb.$==1)cc!=null&&cc.$==1?cb.$0[1]&&cc.$0[1]?z.MarkForever(b_,null):z.MarkReady(b_,null):void 0;}}b8=b6.s;b9=b7.s;return b8!=null&&b8.$==0?b9!=null&&b9.$==0?z.New({$:0,$0:null}):b7:b9!=null&&b9.$==0?b6:(b_=z.New({$:3,$0:[],$1:[]}),(z.When(b6,b$,b_),z.When(b7,b$,b_),b_));};z.Copy=function(b6){var b7,b8,b9;b7=b6.s;return b7==null?b6:b7!=null&&b7.$==2?(b8=z.New({$:2,$0:b7.$0,$1:[]}),(z.WhenObsolete(b6,b8),b8)):b7!=null&&b7.$==3?(b9=z.New({$:3,$0:[],$1:[]}),(z.When(b6,function(b_){z.MarkDone(b9,b6,b_);},b9),b9)):b6;};z.WhenObsoleteRun=function(b6,b7){var b8;b8=b6.s;if(b8==null)b7();else b8!=null&&b8.$==2?b8.$1.push(b7):b8!=null&&b8.$==3?b8.$1.push(b7):void 0;};z.When=function(b6,b7,b8){var b9;b9=b6.s;if(b9==null)z.Obsolete(b8);else b9!=null&&b9.$==2?(z.EnqueueSafe(b9.$1,b8),b7(b9.$0)):b9!=null&&b9.$==3?(b9.$0.push(b7),z.EnqueueSafe(b9.$1,b8)):b7(b9.$0);};z.MarkDone=function(b6,b7,b8){var b9;if(b9=b7.s,b9!=null&&b9.$==0)z.MarkForever(b6,b8);else z.MarkReady(b6,b8);};z.Map3Opt1=function(b6,b7,b8,b9){return z.Map(function(b_){return b6(b7,b8,b_);},b9);};z.Map3Opt2=function(b6,b7,b8,b9){return z.Map(function(b_){return b6(b7,b_,b8);},b9);};z.Map3Opt3=function(b6,b7,b8,b9){return z.Map2(function(b_,b$){return b6(b7,b_,b$);},b8,b9);};z.Map3Opt4=function(b6,b7,b8,b9){return z.Map(function(b_){return b6(b_,b7,b8);},b9);};z.Map3Opt5=function(b6,b7,b8,b9){return z.Map2(function(b_,b$){return b6(b_,b7,b$);},b8,b9);};z.Map3Opt6=function(b6,b7,b8,b9){return z.Map2(function(b_,b$){return b6(b_,b$,b7);},b8,b9);};z.ValueAndForever=function(b6){var b7;b7=b6.s;return b7!=null&&b7.$==0?{$:1,$0:[b7.$0,true]}:b7!=null&&b7.$==2?{$:1,$0:[b7.$0,false]}:null;};z.MarkForever=function(b6,b7){var b8,b9,b_,b$;b8=b6.s;if(b8!=null&&b8.$==3){b6.s={$:0,$0:b7};b9=b8.$0;for(b_=0,b$=m.length(b9)-1;b_<=b$;b_++)(m.get(b9,b_))(b7);}else void 0;};z.MarkReady=function(b6,b7){var b8,b9,b_,b$;b8=b6.s;if(b8!=null&&b8.$==3){b6.s={$:2,$0:b7,$1:b8.$1};b9=b8.$0;for(b_=0,b$=m.length(b9)-1;b_<=b$;b_++)(m.get(b9,b_))(b7);}else void 0;};z.Map2Opt1=function(b6,b7,b8){return z.Map(function(b9){return b6(b7,b9);},b8);};z.Map2Opt2=function(b6,b7,b8){return z.Map(function(b9){return b6(b9,b7);},b8);};z.WhenObsolete=function(b6,b7){var b8;b8=b6.s;if(b8==null)z.Obsolete(b7);else b8!=null&&b8.$==2?z.EnqueueSafe(b8.$1,b7):b8!=null&&b8.$==3?z.EnqueueSafe(b8.$1,b7):void 0;};z.EnqueueSafe=function(b6,b7){var b8,b9,b_,b$;b6.push(b7);if(b6.length%20===0){b8=b6.slice(0);bZ.Clear(b6);for(b9=0,b_=m.length(b8)-1;b9<=b_;b9++){b$=m.get(b8,b9);if(typeof b$=="object")(function(ca){if(ca.s)b6.push(ca);}(b$));else(function(ca){b6.push(ca);}(b$));}}else void 0;};B.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(b6){var b7,b8;b7=b4.random()*16|0;b8=b6=="x"?b7:b7&3|8;return b8.toString(16);});};D=C.EventQ=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Value:function(){return this.fillWith;},get_Name:function(){return this.name;}},r,D);D.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},D);F=E.Dictionary=b2.Class({Item:function(b6){return this.get(b6);},get:function(b6){var b7,b8;b7=this;b8=this.data[this.hash(b6)];return b8==null?Z.notPresent():m.pick(function(b9){var b_;b_=h.KeyValue(b9);return b7.equals.apply(null,[b_[0],b6])?{$:1,$0:b_[1]}:null;},b8);},set_Item:function(b6,b7){this.set(b6,b7);},set:function(b6,b7){var b8,b9,b_,b$;b8=this;b9=this.hash(b6);b_=this.data[b9];if(b_==null){this.count=this.count+1;this.data[b9]=new a.Array({K:b6,V:b7});}else{b$=m.tryFindIndex(function(ca){return b8.equals.apply(null,[(h.KeyValue(ca))[0],b6]);},b_);b$==null?(this.count=this.count+1,b_.push({K:b6,V:b7})):b_[b$.$0]={K:b6,V:b7};}},TryGetValue:function(b6,b7){var b8,b9,b_;b8=this;b9=this.data[this.hash(b6)];return b9==null?false:(b_=m.tryPick(function(b$){var ca;ca=h.KeyValue(b$);return b8.equals.apply(null,[ca[0],b6])?{$:1,$0:ca[1]}:null;},b9),b_!=null&&b_.$==1&&(b7.set(b_.$0),true));},ContainsKey:function(b6){var b7,b8;b7=this;b8=this.data[this.hash(b6)];return b8==null?false:m.exists(function(b9){return b7.equals.apply(null,[(h.KeyValue(b9))[0],b6]);},b8);},RemoveKey:function(b6){return this.remove(b6);},Keys:function(){return new bd.New(this);},GetEnumerator:function(){return _0.Get0(m.concat(v.GetFieldValues(this.data)));},Values:function(){return new bw.New(this);},remove:function(b6){var b7,b8,b9,b_;b7=this;b8=this.hash(b6);b9=this.data[b8];return b9==null?false:(b_=m.filter(function(b$){return!b7.equals.apply(null,[(h.KeyValue(b$))[0],b6]);},b9),m.length(b_)<b9.length&&(this.count=this.count-1,this.data[b8]=b_,true));}},e,F);F.New$5=b2.Ctor(function(){F.New$6.call(this,[],w.Equals,w.Hash);},F);F.New$6=b2.Ctor(function(b6,b7,b8){var b9,b_;e.New.call(this);this.equals=b7;this.hash=b8;this.count=0;this.data=[];b9=_0.Get(b6);try{while(b9.MoveNext()){b_=b9.Current();this.set(b_.K,b_.V);}}finally{if(typeof b9=="object"&&"Dispose"in b9)b9.Dispose();}},F);H.NewFromSeq=function(b6){var b7,b8,b9;b7={};b8=_0.Get(b6);try{while(b8.MoveNext()){b9=b8.Current();b7[b9[0]]=b9[1];}}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}return b7;};J.LoadLocalTemplates=function(b6){!J.LocalTemplatesLoaded()?(J.set_LocalTemplatesLoaded(true),J.LoadNestedTemplates(self.document.body,"")):void 0;J.LoadedTemplates().set_Item(b6,J.LoadedTemplateFile(""));};J.NamedTemplate=function(b6,b7,b8){var b9,b_;b9=(b_=null,[J.LoadedTemplateFile(b6).TryGetValue(b7==null?"":b7.$0,{get:function(){return b_;},set:function(b$){b_=b$;}}),b_]);return b9[0]?J.ChildrenTemplate(b9[1].cloneNode(true),b8):(b3.warn("Local template doesn't exist",b7),K.get_Empty());};J.LocalTemplatesLoaded=function(){_2.$cctor();return _2.LocalTemplatesLoaded;};J.set_LocalTemplatesLoaded=function(b6){_2.$cctor();_2.LocalTemplatesLoaded=b6;};J.LoadNestedTemplates=function(b6,b7){var b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr;function b8(cs){var ct,cu;if(!b9.ContainsKey(cs)){ct=(cu=null,[b_.TryGetValue(cs,{get:function(){return cu;},set:function(cv){cu=cv;}}),cu]);if(ct[0]){cr.SAdd(cs);b_.RemoveKey(cs);J.PrepareTemplateStrict(b7,{$:1,$0:cs},ct[1],{$:1,$0:b8});}else b3.warn(cr.Contains(cs)?"Encountered loop when instantiating "+cs:"Local template does not exist: "+cs);}}b9=J.LoadedTemplateFile(b7);b_=new F.New$5();b$=b6.querySelectorAll("[ws-template]");for(ca=0,cb=b$.length-1;ca<=cb;ca++){cc=b$[ca];cd=cc.getAttribute("ws-template").toLowerCase();cc.removeAttribute("ws-template");b_.set_Item(cd,J.FakeRootSingle(cc));}ce=b6.querySelectorAll("[ws-children-template]");for(cf=0,cg=ce.length-1;cf<=cg;cf++){ch=ce[cf];ci=ch.getAttribute("ws-children-template").toLowerCase();ch.removeAttribute("ws-children-template");b_.set_Item(ci,J.FakeRoot(ch));}cj=b6.querySelectorAll("template[id]");for(ck=0,cl=cj.length-1;ck<=cl;ck++){cm=cj[ck];b_.set_Item(cm.getAttribute("id").toLowerCase(),J.FakeRootFromHTMLTemplate(cm));}cn=b6.querySelectorAll("template[name]");for(co=0,cp=cn.length-1;co<=cp;co++){cq=cn[co];b_.set_Item(cq.getAttribute("name").toLowerCase(),J.FakeRootFromHTMLTemplate(cq));}cr=new O.New$3();while(b_.count>0)b8(P.head(b_.Keys()));};J.LoadedTemplates=function(){_2.$cctor();return _2.LoadedTemplates;};J.LoadedTemplateFile=function(b6){var b7,b8,b9;b7=(b8=null,[J.LoadedTemplates().TryGetValue(b6,{get:function(){return b8;},set:function(b_){b8=b_;}}),b8]);return b7[0]?b7[1]:(b9=new F.New$5(),(J.LoadedTemplates().set_Item(b6,b9),b9));};J.ChildrenTemplate=function(b6,b7){var b8,b9,b_,b$,ca;b8=J.InlineTemplate(b6,P.append(b7,J.GlobalHoles().Values()));b9=b8[1];b_=b8[0];b$=b_.Els;return!w.Equals(b$,null)&&b$.length===1&&(m.get(b$,0)instanceof N&&(w.Equals(m.get(b$,0).nodeType,N.ELEMENT_NODE)&&(ca=m.get(b$,0),true)))?_.TreeNode(b_,b9):K.Mk({$:6,$0:b_},b9);};J.FakeRootSingle=function(b6){var b7,b8,b9,b_;b6.removeAttribute("ws-template");b7=b6.getAttribute("ws-replace");if(b7==null);else{b6.removeAttribute("ws-replace");b8=b6.parentNode;w.Equals(b8,null)?void 0:(b9=self.document.createElement(b6.tagName),b9.setAttribute("ws-replace",b7),b8.replaceChild(b9,b6));}b_=self.document.createElement("div");b_.appendChild(b6);return b_;};J.FakeRoot=function(b6){var b7;b7=self.document.createElement("div");while(b6.hasChildNodes())b7.appendChild(b6.firstChild);return b7;};J.FakeRootFromHTMLTemplate=function(b6){var b7,b8,b9,b_;b7=self.document.createElement("div");b8=b6.content;for(b9=0,b_=b8.childNodes.length-1;b9<=b_;b9++)b7.appendChild(b8.childNodes[b9].cloneNode(true));return b7;};J.PrepareTemplateStrict=function(b6,b7,b8,b9){var b_,b$;function ca(cg,ch){var ci,cj,ck,cl,cm,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI;function cn(cJ){}while(true)switch(cg){case 0:if(ch!==null){ci=ch.nextSibling;if(w.Equals(ch.nodeType,N.TEXT_NODE))ba.convertTextNode(ch);else if(w.Equals(ch.nodeType,N.ELEMENT_NODE))cc(ch);ch=ci;}else return null;break;case 1:co=bb.string(ch.nodeName,{$:1,$0:3},null).toLowerCase();cp=(cj=co.indexOf("."),cj===-1?[b6,co]:[bb.string(co,null,{$:1,$0:cj-1}),bb.string(co,{$:1,$0:cj+1},null)]);cq=cp[1];cr=cp[0];if(cr!=""&&!J.LoadedTemplates().ContainsKey(cr))return ba.failNotLoaded(cq);else{if(cr==""&&b9!=null)b9.$0(cq);cs=J.LoadedTemplates().Item(cr);if(!cs.ContainsKey(cq))return ba.failNotLoaded(cq);else{ct=cs.Item(cq);cu=ct.cloneNode(true);cv=new O.New$3();cw=new F.New$5();cx=ch.attributes;for(cy=0,cz=cx.length-1;cy<=cz;cy++){cA=cx.item(cy).name.toLowerCase();cw.set_Item(cA,(cB=cx.item(cy).nodeValue,cB==""?cA:cB.toLowerCase()));if(!cv.SAdd(cA))b3.warn("Hole mapped twice",cA);}for(cC=0,cD=ch.childNodes.length-1;cC<=cD;cC++){cE=ch.childNodes[cC];if(w.Equals(cE.nodeType,N.ELEMENT_NODE))!cv.SAdd(cE.nodeName.toLowerCase())?b3.warn("Hole filled twice",cq):void 0;}cF=ch.childNodes.length===1&&w.Equals(ch.firstChild.nodeType,N.TEXT_NODE);if(cF){cl=ba.fillTextHole(cu,ch.firstChild.textContent,cq);((function(cJ){return function(cK){if(cK!=null)cJ(cK.$0);};}((cm=function(cJ){return function(cK){return cJ.SAdd(cK);};}(cv),function(cJ){return cn(cm(cJ));})))(cl));}ba.removeHolesExcept(cu,cv);if(!cF){for(cG=0,cH=ch.childNodes.length-1;cG<=cH;cG++){cI=ch.childNodes[cG];if(w.Equals(cI.nodeType,N.ELEMENT_NODE))cI.hasAttributes()?ba.fillInstanceAttrs(cu,cI):cb(cu,cI);}}ba.mapHoles(cu,cw);ba.fill(cu,ch.parentNode,ch);ch.parentNode.removeChild(ch);return;}}break;}}function cb(cg,ch){var ci,cj,cl,cm;function ck(cn,co){var cp;if(cl=="title"&&ch.hasChildNodes()){cp=bc.ParseHTMLIntoFakeRoot(ch.textContent);ch.removeChild(ch.firstChild);while(cp.hasChildNodes())ch.appendChild(cp.firstChild);}else null;cc(ch);return ba.fill(ch,cn,co);}cl=ch.nodeName.toLowerCase();J.foreachNotPreserved(cg,"[ws-attr-holes]",function(cn){var co,cp,cq,cr,cs;co=p.SplitChars(cn.getAttribute("ws-attr-holes"),[" "],1);for(cp=0,cq=co.length-1;cp<=cq;cp++){cr=m.get(co,cp);cn.setAttribute(cr,(cs=new a.RegExp("\\${"+cl+"}","ig"),cn.getAttribute(cr).replace(cs,ch.textContent)));}});cm=cg.querySelector("[ws-hole="+cl+"]");if(w.Equals(cm,null)){ci=cg.querySelector("[ws-replace="+cl+"]");return w.Equals(ci,null)?(cj=cg.querySelector("slot[name="+cl+"]"),cg.tagName.toLowerCase()=="template"?(ck(cj.parentNode,cj),void cj.parentNode.removeChild(cj)):null):(ck(ci.parentNode,ci),void ci.parentNode.removeChild(ci));}else{while(cm.hasChildNodes())cm.removeChild(cm.lastChild);cm.removeAttribute("ws-hole");return ck(cm,null);}}function cc(cg){if(!cg.hasAttribute("ws-preserve"))if(p.StartsWith(cg.nodeName.toLowerCase(),"ws-"))ce(cg);else{ba.convertAttrs(cg);cd(cg.firstChild);}}function cd(cg){return ca(0,cg);}function ce(cg){return ca(1,cg);}function cf(cg){var ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs;while(true){ch=cg.querySelector("[ws-template]");if(w.Equals(ch,null)){ci=cg.querySelector("[ws-children-template]");if(w.Equals(ci,null)){cj=cg.querySelectorAll("template[id]");for(ck=1,cl=cj.length-1;ck<=cl;ck++){cm=cj[ck];if(b_.Contains(cm));else{J.PrepareTemplateStrict(b6,{$:1,$0:cm.getAttribute("id")},cm,null);b_.SAdd(cm);}}cn=cg.querySelectorAll("template[name]");for(co=1,cp=cn.length-1;co<=cp;co++){cq=cn[co];if(b_.Contains(cq));else{J.PrepareTemplateStrict(b6,{$:1,$0:cq.getAttribute("name")},cq,null);b_.SAdd(cq);}}return null;}else{cr=ci.getAttribute("ws-children-template");ci.removeAttribute("ws-children-template");J.PrepareTemplateStrict(b6,{$:1,$0:cr},ci,null);cg=cg;}}else{cs=ch.getAttribute("ws-template");(J.PrepareSingleTemplate(b6,{$:1,$0:cs},ch))(null);cg=cg;}}}b_=new O.New$3();b$=(b7==null?"":b7.$0).toLowerCase();J.LoadedTemplateFile(b6).set_Item(b$,b8);if(b8.hasChildNodes()){cf(b8);cd(b8.firstChild);}};J.InlineTemplate=function(b6,b7){var b8,b9,b_,b$,ca,ce,cf,cg,ch,ci,cj,ck;function cb(cl,cm){var cn,co,cp;cn=bj.Insert(cl,cm);cf.push(bj.Updates(cn));cg.push([cl,cn]);co=b2.GetOptional(cn.OnAfterRender);return co==null?null:(cp=co.$0,void ch.push(function(){cp(cl);}));}function cc(cl){var cm,cn,co,cp;cm=(cn=null,[ci.TryGetValue(cl,{get:function(){return cn;},set:function(cq){cn=cq;}}),cn]);return cm[0]?(co=cm[1],co instanceof bk?{$:1,$0:co.get_Value()}:co instanceof bl?{$:1,$0:K.TextNode(co.get_Value())}:(cp=co.ForTextView(),cp==null?null:{$:1,$0:K.TextView(cp.$0)})):null;}function cd(){J.foreachNotPreservedwsDOM("[ws-dom]",function(cl){var cm,cn,co,cp,cq,cr,cs;cm=(cn=null,[ci.TryGetValue(cl.getAttribute("ws-dom").toLowerCase(),{get:function(){return cn;},set:function(ct){cn=ct;}}),cn]);if(cm[0]){co=cm[1];co instanceof W?(cp=co.get_Value(),cl.removeAttribute("ws-dom"),cq=cl,cr=new a.MutationObserver(function(ct,cu){m.iter(function(cv){function cw(cx,cy,cz,cA){if(cx===cq&&cv.addedNodes.length!==1){cp.SetFinal(null);cu.disconnect();}}cv.removedNodes.forEach(b2.CreateFuncWithArgs(function(cx){return cw(cx[0],cx[1],cx[2],cx[3]);}),null);},ct);}),cl.parentElement!==null?cr.observe(cl.parentElement,(cs={},cs.childList=true,cs)):void 0,cp.Set({$:1,$0:cl}),X.Sink(function(ct){var cu;if(ct!=null&&ct.$==1){cu=ct.$0;if(cq===cu);else{cq.replaceWith.apply(cq,[cu]);cq=cu;}}else{cq.remove();cr.disconnect();}},cp.get_View())):void 0;}});}ce=[];cf=[];cg=[];ch=[];ci=new F.New$5();cj=_0.Get(b7);try{while(cj.MoveNext()){ck=cj.Current();ci.set_Item(ck.get_Name(),ck);}}finally{if(typeof cj=="object"&&"Dispose"in cj)cj.Dispose();}b8=bc.ChildrenArray(b6);J.foreachNotPreserved(b6,"[ws-hole]",function(cl){var cm,cn,co;co=cl.getAttribute("ws-hole");cl.removeAttribute("ws-hole");while(cl.hasChildNodes())cl.removeChild(cl.lastChild);cm=cc(co);if(cm!=null&&cm.$==1){cn=cm.$0;_3.LinkElement(cl,cn.docNode);ce.push(_5.New(bj.Empty(cl),cn.docNode,null,cl,M.Int(),null));cf.push(cn.updates);}});J.foreachNotPreserved(b6,"[ws-replace]",function(cl){var cm,cn,co,cp,cq,cr;cm=cc(cl.getAttribute("ws-replace"));if(cm!=null&&cm.$==1){cn=cm.$0;co=cl.parentNode;cp=self.document.createTextNode("");co.replaceChild(cp,cl);cq=_3.InsertBeforeDelim(cp,cn.docNode);cr=m.tryFindIndex(function(cs){return cl===cs;},b8);cr==null?void 0:m.set(b8,cr.$0,cn.docNode);ce.push(_5.New(bj.Empty(co),cn.docNode,{$:1,$0:[cq,cp]},co,M.Int(),null));cf.push(cn.updates);}});b9=false;J.foreachNotPreserved(b6,"slot",function(cl){var cm,cn,co,cp;co=cl.getAttribute("name");cp=co==""||co==null?"default":co.toLowerCase();if(b9&&cp=="default"||!w.Equals(b6.parentElement,null))void 0;else{while(cl.hasChildNodes())cl.removeChild(cl.lastChild);if(cp=="default")b9=true;cm=cc(cp);if(cm!=null&&cm.$==1){cn=cm.$0;_3.LinkElement(cl,cn.docNode);ce.push(_5.New(bj.Empty(cl),cn.docNode,null,cl,M.Int(),null));cf.push(cn.updates);}}});J.foreachNotPreserved(b6,"[ws-attr]",function(cl){var cm,cn,co,cp;cm=cl.getAttribute("ws-attr");cl.removeAttribute("ws-attr");cn=(co=null,[ci.TryGetValue(cm,{get:function(){return co;},set:function(cq){co=cq;}}),co]);if(cn[0]){cp=cn[1];cp instanceof bm?cb(cl,cp.get_Value()):b3.warn("Attribute hole filled with non-attribute data",cm);}});J.foreachNotPreserved(b6,"[ws-on]",function(cl){cb(cl,bp.Concat(m.choose(function(cm){var cn,co,cp,cq;cn=p.SplitChars(cm,[":"],1);co=(cp=null,[ci.TryGetValue(m.get(cn,1),{get:function(){return cp;},set:function(cr){cp=cr;}}),cp]);return co[0]?(cq=co[1],cq instanceof bn?{$:1,$0:bo.Handler(m.get(cn,0),cq.get_Value())}:cq instanceof D?{$:1,$0:bp.Handler(m.get(cn,0),cq.get_Value())}:(b3.warn("Event hole on"+m.get(cn,0)+" filled with non-event data",m.get(cn,1)),null)):null;},p.SplitChars(cl.getAttribute("ws-on"),[" "],1))));cl.removeAttribute("ws-on");});J.foreachNotPreserved(b6,"[ws-onafterrender]",function(cl){var cm,cn,co,cp;cm=cl.getAttribute("ws-onafterrender");cn=(co=null,[ci.TryGetValue(cm,{get:function(){return co;},set:function(cq){co=cq;}}),co]);if(cn[0]){cp=cn[1];cp instanceof bq?(cl.removeAttribute("ws-onafterrender"),cb(cl,bo.OnAfterRender(cp.get_Value()))):cp instanceof br?(cl.removeAttribute("ws-onafterrender"),cb(cl,bo.OnAfterRender(cp.get_Value()))):b3.warn("onafterrender hole filled with non-onafterrender data",cm);}});J.foreachNotPreserved(b6,"[ws-var]",function(cl){var cm,cn,co;cm=cl.getAttribute("ws-var");cl.removeAttribute("ws-var");cn=(co=null,[ci.TryGetValue(cm,{get:function(){return co;},set:function(cp){co=cp;}}),co]);if(cn[0])cn[1].AddAttribute(function(cp){return function(cq){return cb(cp,cq);};},cl);});J.foreachNotPreserved(b6,"[ws-attr-holes]",function(cl){var cm,cn,co,cp;cm=new a.RegExp(J.TextHoleRE(),"g");cn=p.SplitChars(cl.getAttribute("ws-attr-holes"),[" "],1);cl.removeAttribute("ws-attr-holes");for(co=0,cp=cn.length-1;co<=cp;co++)(function(){var cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC;cz=m.get(cn,co);cA=cl.getAttribute(cz);cq=null;cr=0;cB=[];while(cq=cm.exec(cA),cq!==null){cC=bb.string(cA,{$:1,$0:cr},{$:1,$0:cm.lastIndex-m.get(cq,0).length-1});cr=cm.lastIndex;cB.push([cC,m.get(cq,1)]);}ct=bb.string(cA,{$:1,$0:cr},null);cm.lastIndex=0;cu=m.foldBack(function(cD,cE){return(function(cF){var cG,cH;cG=cF[0];cH=cF[1];return function(cI){var cJ,cK,cL,cM,cN;cJ=cI[0];cK=cI[1];cL=(cM=(cN=null,[ci.TryGetValue(cH,{get:function(){return cN;},set:function(cO){cN=cO;}}),cN]),cM[0]?cM[1].get_AsChoiceView():{$:0,$0:""});return cL.$==1?[cG,new bt({$:1,$0:cJ==""?cL.$0:X.Map(function(cO){return cO+cJ;},cL.$0),$1:cK})]:[cG+cL.$0+cJ,cK];};}(cD))(cE);},cB,[ct,bt.Empty]);return cb(cl,cu[1].$==1?cu[1].$1.$==1?cu[1].$1.$1.$==1?cu[1].$1.$1.$1.$==0?(cv=cu[0],bo.Dynamic(cz,X.Map3(function(cD,cE,cF){return cv+cD+cE+cF;},cu[1].$0,cu[1].$1.$0,cu[1].$1.$1.$0))):(cw=cu[0],bo.Dynamic(cz,X.Map(function(cD){return cw+p.concat("",cD);},X.Sequence(cu[1])))):(cx=cu[0],bo.Dynamic(cz,X.Map2(function(cD,cE){return cx+cD+cE;},cu[1].$0,cu[1].$1.$0))):cu[0]==""?bo.Dynamic(cz,cu[1].$0):(cy=cu[0],bo.Dynamic(cz,X.Map(function(cD){return cy+cD;},cu[1].$0))):bp.Create(cz,cu[0]));}());});return[b2.DeleteEmptyFields({Els:b8,Dirty:true,Holes:ce,Attrs:cg,Render:(b_=ch.length==0?{$:1,$0:function(){cd();}}:{$:1,$0:function(cl){cd();m.iter(function(cm){cm(cl);},ch);}},b_?b_.$0:void 0),El:(b$=!w.Equals(b8,null)&&b8.length===1&&(m.get(b8,0)instanceof N&&(m.get(b8,0)instanceof $&&(ca=m.get(b8,0),true)))?{$:1,$0:ca}:null,b$?b$.$0:void 0)},["Render","El"]),bu.TreeReduce(X.Const(),X.Map2Unit,cf)];};J.GlobalHoles=function(){_2.$cctor();return _2.GlobalHoles;};J.foreachNotPreserved=function(b6,b7,b8){bc.IterSelector(b6,b7,function(b9){if(b9.closest("[ws-preserve]")==null)b8(b9);});};J.PrepareSingleTemplate=function(b6,b7,b8){var b9;b9=J.FakeRootSingle(b8);return function(b_){J.PrepareTemplateStrict(b6,b7,b9,b_);};};J.foreachNotPreservedwsDOM=function(b6,b7){bc.IterSelectorDoc(b6,function(b8){if(b8.closest("[ws-preserve]")==null)b7(b8);});};J.TextHoleRE=function(){_2.$cctor();return _2.TextHoleRE;};K=f.Doc=b2.Class({},e,K);K.RunById=function(b6,b7){var b8;b8=self.document.getElementById(b6);if(w.Equals(b8,null))h.FailWith("invalid id: "+b6);else K.Run(b8,b7);};K.Run=function(b6,b7){_3.LinkElement(b6,b7.docNode);K.RunInPlace(false,b6,b7);};K.get_Empty=function(){return K.Mk(null,X.Const());};K.RunInPlace=function(b6,b7,b8){var b9;b9=_3.CreateRunState(b7,b8.docNode);X.Sink(be.get_UseAnimations()||bf.BatchUpdatesEnabled()?bg.StartProcessor(_3.PerformAnimatedUpdate(b6,b9,b8.docNode)):function(){_3.PerformSyncUpdate(b6,b9,b8.docNode);},b8.updates);};K.Mk=function(b6,b7){return new K.New(b6,b7);};K.TextNode=function(b6){return K.Mk({$:5,$0:self.document.createTextNode(b6)},X.Const());};K.TextView=function(b6){var b7;b7=_3.CreateTextNode();return K.Mk({$:4,$0:b7},X.Map(function(b8){_3.UpdateTextNode(b7,b8);},b6));};K.New=b2.Ctor(function(b6,b7){e.New.call(this);this.docNode=b6;this.updates=b7;},K);M.Int=function(){M.set_counter(M.counter()+1);return M.counter();};M.set_counter=function(b6){_4.$cctor();_4.counter=b6;};M.counter=function(){_4.$cctor();return _4.counter;};O=E.HashSet=b2.Class({SAdd:function(b6){return this.add(b6);},Contains:function(b6){var b7;b7=this.data[this.hash(b6)];return b7==null?false:this.arrContains(b6,b7);},add:function(b6){var b7,b8;b7=this.hash(b6);b8=this.data[b7];return b8==null?(this.data[b7]=[b6],this.count=this.count+1,true):this.arrContains(b6,b8)?false:(b8.push(b6),this.count=this.count+1,true);},arrContains:function(b6,b7){var b8,b9,b_,b$;b8=true;b9=0;b$=b7.length;while(b8&&b9<b$)if(this.equals.apply(null,[b7[b9],b6]))b8=false;else b9=b9+1;return!b8;},GetEnumerator:function(){return _0.Get(bD.concat(this.data));},ExceptWith:function(b6){var b7;b7=_0.Get(b6);try{while(b7.MoveNext())this.Remove(b7.Current());}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}},Count:function(){return this.count;},IntersectWith:function(b6){var b7,b8,b9,b_,b$;b7=new O.New$4(b6,this.equals,this.hash);b8=bD.concat(this.data);for(b9=0,b_=b8.length-1;b9<=b_;b9++){b$=b8[b9];if(!b7.Contains(b$))this.Remove(b$);}},Remove:function(b6){var b7;b7=this.data[this.hash(b6)];return b7==null?false:this.arrRemove(b6,b7)&&(this.count=this.count-1,true);},CopyTo:function(b6,b7){var b8,b9,b_;b8=bD.concat(this.data);for(b9=0,b_=b8.length-1;b9<=b_;b9++)m.set(b6,b9+b7,b8[b9]);},arrRemove:function(b6,b7){var b8,b9,b_,b$;b8=true;b9=0;b$=b7.length;while(b8&&b9<b$)if(this.equals.apply(null,[b7[b9],b6])){b7.splice.apply(b7,[b9,1]);b8=false;}else b9=b9+1;return!b8;}},e,O);O.New$3=b2.Ctor(function(){O.New$4.call(this,[],w.Equals,w.Hash);},O);O.New$4=b2.Ctor(function(b6,b7,b8){var b9;e.New.call(this);this.equals=b7;this.hash=b8;this.data=[];this.count=0;b9=_0.Get(b6);try{while(b9.MoveNext())this.add(b9.Current());}finally{if(typeof b9=="object"&&"Dispose"in b9)b9.Dispose();}},O);O.New$2=b2.Ctor(function(b6){O.New$4.call(this,b6,w.Equals,w.Hash);},O);P.append=function(b6,b7){return{GetEnumerator:function(){var b8,b9;b8=_0.Get(b6);b9=[true];return new _1.New(b8,null,function(b_){var b$;return b_.s.MoveNext()?(b_.c=b_.s.Current(),true):(b$=b_.s,!w.Equals(b$,null)?b$.Dispose():void 0,b_.s=null,b9[0]&&(b9[0]=false,b_.s=_0.Get(b7),b_.s.MoveNext()?(b_.c=b_.s.Current(),true):(b_.s.Dispose(),b_.s=null,false)));},function(b_){var b$;b$=b_.s;if(!w.Equals(b$,null))b$.Dispose();});}};};P.head=function(b6){var b7;b7=_0.Get(b6);try{return b7.MoveNext()?b7.Current():P.insufficient();}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}};P.fold=function(b6,b7,b8){var b9,b_;b9=b7;b_=_0.Get(b8);try{while(b_.MoveNext())b9=b6(b9,b_.Current());return b9;}finally{if(typeof b_=="object"&&"Dispose"in b_)b_.Dispose();}};P.iter=function(b6,b7){var b8;b8=_0.Get(b7);try{while(b8.MoveNext())b6(b8.Current());}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}};P.map=function(b6,b7){return{GetEnumerator:function(){var b8;b8=_0.Get(b7);return new _1.New(null,null,function(b9){return b8.MoveNext()&&(b9.c=b6(b8.Current()),true);},function(){b8.Dispose();});}};};P.delay=function(b6){return{GetEnumerator:function(){return _0.Get(b6());}};};P.max=function(b6){var b7,b8,b9;b7=_0.Get(b6);try{if(!b7.MoveNext())P.seqEmpty();b8=b7.Current();while(b7.MoveNext()){b9=b7.Current();if(w.Compare(b9,b8)===1)b8=b9;}return b8;}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}};P.init=function(b6,b7){return P.take(b6,P.initInfinite(b7));};P.seqEmpty=function(){return h.FailWith("The input sequence was empty.");};P.forall=function(b6,b7){return!P.exists(function(b8){return!b6(b8);},b7);};P.take=function(b6,b7){b6<0?P.nonNegative():void 0;return{GetEnumerator:function(){var b8;b8=[_0.Get(b7)];return new _1.New(0,null,function(b9){var b_;b9.s=b9.s+1;return b9.s>b6?false:(b_=b8[0],w.Equals(b_,null)?P.insufficient():b_.MoveNext()?(b9.c=b_.Current(),b9.s===b6?(b_.Dispose(),b8[0]=null):void 0,true):(b_.Dispose(),b8[0]=null,P.insufficient()));},function(){var b9;b9=b8[0];if(!w.Equals(b9,null))b9.Dispose();});}};};P.initInfinite=function(b6){return{GetEnumerator:function(){return new _1.New(0,null,function(b7){b7.c=b6(b7.s);b7.s=b7.s+1;return true;},void 0);}};};P.exists=function(b6,b7){var b8,b9;b8=_0.Get(b7);try{b9=false;while(!b9&&b8.MoveNext())b9=b6(b8.Current());return b9;}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}};m.choose=function(b6,b7){var b8,b9,b_,b$;b8=[];for(b9=0,b_=b7.length-1;b9<=b_;b9++){b$=b6(b7[b9]);if(b$==null);else b8.push(b$.$0);}return b8;};m.pick=function(b6,b7){var b8;b8=m.tryPick(b6,b7);return b8==null?h.FailWith("KeyNotFoundException"):b8.$0;};m.tryPick=function(b6,b7){var b8,b9,b_;b8=null;b9=0;while(b9<b7.length&&b8==null){b_=b6(b7[b9]);if(b_!=null&&b_.$==1)b8=b_;b9=b9+1;}return b8;};m.tryFindIndex=function(b6,b7){var b8,b9;b8=null;b9=0;while(b9<b7.length&&b8==null){b6(b7[b9])?b8={$:1,$0:b9}:void 0;b9=b9+1;}return b8;};m.exists=function(b6,b7){var b8,b9,b_,b$;b8=false;b9=0;b$=m.length(b7);while(!b8&&b9<b$)if(b6(b7[b9]))b8=true;else b9=b9+1;return b8;};m.concat=function(b6){return a.Array.prototype.concat.apply([],m.ofSeq(b6));};m.iter=function(b6,b7){var b8,b9;for(b8=0,b9=b7.length-1;b8<=b9;b8++)b6(b7[b8]);};m.foldBack=function(b6,b7,b8){var b9,b_,b$,ca,cb;b9=b8;b$=b7.length;for(ca=1,cb=b$;ca<=cb;ca++)b9=b6(b7[b$-ca],b9);return b9;};m.map=function(b6,b7){var b8,b9,b_;b8=new a.Array(b7.length);for(b9=0,b_=b7.length-1;b9<=b_;b9++)b8[b9]=b6(b7[b9]);return b8;};m.filter=function(b6,b7){var b8,b9,b_;b8=[];for(b9=0,b_=b7.length-1;b9<=b_;b9++)if(b6(b7[b9]))b8.push(b7[b9]);return b8;};m.ofSeq=function(b6){var b7,b8;if(b6 instanceof a.Array)return b6.slice();else if(b6 instanceof bt)return m.ofList(b6);else{b7=[];b8=_0.Get(b6);try{while(b8.MoveNext())b7.push(b8.Current());return b7;}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}}};m.ofList=function(b6){var b7,b8;b8=[];b7=b6;while(!(b7.$==0)){b8.push(bs.head(b7));b7=bs.tail(b7);}return b8;};m.forall=function(b6,b7){var b8,b9,b_,b$;b8=true;b9=0;b$=m.length(b7);while(b8&&b9<b$)if(b6(b7[b9]))b9=b9+1;else b8=false;return b8;};m.create=function(b6,b7){var b8,b9,b_;b8=new a.Array(b6);for(b9=0,b_=b6-1;b9<=b_;b9++)b8[b9]=b7;return b8;};m.init=function(b6,b7){var b8,b9,b_;if(b6<0)h.FailWith("Negative size given.");else null;b8=new a.Array(b6);for(b9=0,b_=b6-1;b9<=b_;b9++)b8[b9]=b7(b9);return b8;};Q.$cctor=function(){Q.$cctor=a.ignore;Q.initialized=new F.New$5();};Q=k.TemplateInitializer=b2.Class({},e,Q);Q.GetOrAddHoleFor=function(b6,b7,b8){var b9,b_,b$,ca;Q.$cctor();b9=Q.GetHolesFor(b6);b_=(b$=null,[b9.TryGetValue(b7,{get:function(){return b$;},set:function(cb){b$=cb;}}),b$]);return b_[0]?b_[1]:(ca=b8(),(b9.set_Item(b7,ca),ca));};Q.GetHolesFor=function(b6){var b7,b8,b9;Q.$cctor();b7=(b8=null,[Q.initialized.TryGetValue(b6,{get:function(){return b8;},set:function(b_){b8=b_;}}),b8]);return b7[0]?b7[1]:(b9=new F.New$5(),(Q.initialized.set_Item(b6,b9),b9));};R=C.VarStr=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;},ForTextView:function(){return{$:1,$0:this.fillWith.get_View()};},AddAttribute:function(b6,b7){(b6(b7))(bo.Value(this.fillWith));},get_AsChoiceView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};}},r,R);R.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},R);S=C.VarFloatUnchecked=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;},ForTextView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};},AddAttribute:function(b6,b7){(b6(b7))(bo.FloatValueUnchecked(this.fillWith));},get_AsChoiceView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};}},r,S);S.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},S);T=C.VarBool=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;},ForTextView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};},AddAttribute:function(b6,b7){(b6(b7))(bo.Checked(this.fillWith));},get_AsChoiceView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};}},r,T);T.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},T);U=C.VarDateTime=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;},ForTextView:function(){return{$:1,$0:X.Map(function(b6){return(new a.Date(b6)).toLocaleString();},this.fillWith.get_View())};},AddAttribute:function(b6,b7){(b6(b7))(bo.DateTimeValue(this.fillWith));},get_AsChoiceView:function(){return{$:1,$0:X.Map(function(b6){return(new a.Date(b6)).toLocaleString();},this.fillWith.get_View())};}},r,U);U.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},U);V=C.VarFile=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;},ForTextView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};},AddAttribute:function(b6,b7){(b6(b7))(bo.FileValue(this.fillWith));},get_AsChoiceView:function(){return{$:1,$0:X.Map(a.String,this.fillWith.get_View())};}},r,V);V.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},V);W=C.VarDomElement=b2.Class({get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_Value:function(){return this.fillWith;}},r,W);W.New=b2.Ctor(function(b6,b7){r.New.call(this);this.name=b6;this.fillWith=b7;},W);z.Obsolete=function(b6){var b7,b8,b9,b_,b$;b8=b6.s;if(b8==null||(b8!=null&&b8.$==2?(b7=b8.$1,false):b8!=null&&b8.$==3?(b7=b8.$1,false):true))void 0;else{b6.s=null;for(b9=0,b_=m.length(b7)-1;b9<=b_;b9++){b$=m.get(b7,b9);if(typeof b$=="object")(function(ca){z.Obsolete(ca);}(b$));else b$();}}};z.New=function(b6){return{s:b6};};X=f.View=b2.Class({},null,X);Y.TryParseInt32=function(b6,b7){return Y.TryParse(b6,-2147483648,2147483647,b7);};Z.notPresent=function(){throw new _8.New();};_0.Get=function(b6){return b6 instanceof a.Array?_0.ArrayEnumerator(b6):w.Equals(typeof b6,"string")?_0.StringEnumerator(b6):b6.GetEnumerator();};_0.ArrayEnumerator=function(b6){return new _1.New(0,null,function(b7){var b8;b8=b7.s;return b8<m.length(b6)&&(b7.c=m.get(b6,b8),b7.s=b8+1,true);},void 0);};_0.StringEnumerator=function(b6){return new _1.New(0,null,function(b7){var b8;b8=b7.s;return b8<b6.length&&(b7.c=b6[b8],b7.s=b8+1,true);},void 0);};_0.Get0=function(b6){return b6 instanceof a.Array?_0.ArrayEnumerator(b6):w.Equals(typeof b6,"string")?_0.StringEnumerator(b6):"GetEnumerator0"in b6?b6.GetEnumerator0():b6.GetEnumerator();};_1=_0.T=b2.Class({MoveNext:function(){var b6;b6=this.n(this);this.e=b6?1:2;return b6;},Current:function(){return this.e===1?this.c:this.e===0?h.FailWith("Enumeration has not started. Call MoveNext."):h.FailWith("Enumeration already finished.");},Dispose:function(){if(this.d)this.d(this);}},e,_1);_1.New=b2.Ctor(function(b6,b7,b8,b9){e.New.call(this);this.s=b6;this.c=b7;this.n=b8;this.d=b9;this.e=0;},_1);_2.$cctor=function(){_2.$cctor=a.ignore;_2.LoadedTemplates=new F.New$5();_2.LocalTemplatesLoaded=false;_2.GlobalHoles=new F.New$5();_2.TextHoleRE="\\${([^}]+)}";_2.RenderedFullDocTemplate=null;};_3.LinkElement=function(b6,b7){_3.InsertDoc(b6,b7,null);};_3.InsertDoc=function(b6,b7,b8){var b9,b_,b$;while(true)if(b7!=null&&b7.$==1)return _3.InsertNode(b6,b7.$0.El,b8);else if(b7!=null&&b7.$==2){b9=b7.$0;b9.Dirty=false;b7=b9.Current;}else if(b7==null)return b8;else if(b7!=null&&b7.$==4)return _3.InsertNode(b6,b7.$0.Text,b8);else if(b7!=null&&b7.$==5)return _3.InsertNode(b6,b7.$0,b8);else if(b7!=null&&b7.$==6)return m.foldBack(function(ca,cb){return(((b2.Curried3(function(cc,cd,ce){return cd==null||cd.constructor===G?_3.InsertDoc(cc,cd,ce):_3.InsertNode(cc,cd,ce);}))(b6))(ca))(cb);},b7.$0.Els,b8);else{b_=b7.$1;b$=b7.$0;b7=b$;b8=_3.InsertDoc(b6,b_,b8);}};_3.CreateRunState=function(b6,b7){return by.New(bz.get_Empty(),_3.CreateElemNode(b6,bj.EmptyAttr(),b7));};_3.PerformAnimatedUpdate=function(b6,b7,b8){var b9;return be.get_UseAnimations()?(b9=null,bA.Delay(function(){var b_,b$,ca;b_=bz.FindAll(b8);b$=_3.ComputeChangeAnim(b7,b_);ca=_3.ComputeEnterAnim(b7,b_);return bA.Bind(be.Play(be.Append(b$,_3.ComputeExitAnim(b7,b_))),function(){return bA.Bind(_3.SyncElemNodesNextFrame(b6,b7),function(){return bA.Bind(be.Play(ca),function(){b7.PreviousNodes=b_;return bA.Return(null);});});});})):_3.SyncElemNodesNextFrame(b6,b7);};_3.PerformSyncUpdate=function(b6,b7,b8){var b9;b9=bz.FindAll(b8);_3.SyncElemNode(b6,b7.Top);b7.PreviousNodes=b9;};_3.InsertBeforeDelim=function(b6,b7){var b8,b9;b8=b6.parentNode;b9=self.document.createTextNode("");b8.insertBefore(b9,b6);_3.LinkPrevElement(b6,b7);return b9;};_3.InsertNode=function(b6,b7,b8){bc.InsertAt(b6,b8,b7);return b7;};_3.CreateElemNode=function(b6,b7,b8){var b9;_3.LinkElement(b6,b8);b9=bj.Insert(b6,b7);return _5.New(b9,b8,null,b6,M.Int(),b2.GetOptional(b9.OnAfterRender));};_3.SyncElemNodesNextFrame=function(b6,b7){function b8(b9){a.requestAnimationFrame(function(){_3.SyncElemNode(b6,b7.Top);b9();});}return bf.BatchUpdatesEnabled()?bA.FromContinuations(function(b9,b_,b$){return b8.apply(null,[b9,b_,b$]);}):(_3.SyncElemNode(b6,b7.Top),bA.Return(null));};_3.ComputeExitAnim=function(b6,b7){return be.Concat(m.map(function(b8){return bj.GetExitAnim(b8.Attr);},bz.ToArray(bz.Except(b7,bz.Filter(function(b8){return bj.HasExitAnim(b8.Attr);},b6.PreviousNodes)))));};_3.ComputeEnterAnim=function(b6,b7){return be.Concat(m.map(function(b8){return bj.GetEnterAnim(b8.Attr);},bz.ToArray(bz.Except(b6.PreviousNodes,bz.Filter(function(b8){return bj.HasEnterAnim(b8.Attr);},b7)))));};_3.ComputeChangeAnim=function(b6,b7){var b8;function b9(b_){return bj.HasChangeAnim(b_.Attr);}b8=function(b_){return bz.Filter(b9,b_);};return be.Concat(m.map(function(b_){return bj.GetChangeAnim(b_.Attr);},bz.ToArray(bz.Intersect(b8(b6.PreviousNodes),b8(b7)))));};_3.SyncElemNode=function(b6,b7){!b6?_3.SyncElement(b7):void 0;_3.Sync(b7.Children);_3.AfterRender(b7);};_3.CreateTextNode=function(){return{Text:self.document.createTextNode(""),Dirty:false,Value:""};};_3.UpdateTextNode=function(b6,b7){b6.Value=b7;b6.Dirty=true;};_3.LinkPrevElement=function(b6,b7){_3.InsertDoc(b6.parentNode,b7,b6);};_3.SyncElement=function(b6){function b7(b8){function b9(b_){var b$,ca,cb,cc;while(true){if(b_!=null&&b_.$==0){ca=b_.$1;cb=b_.$0;if(b9(cb))return true;else b_=ca;}else if(b_!=null&&b_.$==2){cc=b_.$0;if(cc.Dirty)return true;else b_=cc.Current;}else return b_!=null&&b_.$==6&&(b$=b_.$0,b$.Dirty||m.exists(b7,b$.Holes));}}return b9(b8.Children);}bj.Sync(b6.El,b6.Attr);if(b7(b6))_3.DoSyncElement(b6);};_3.Sync=function(b6){var b7,b8,b9,b_,b$;while(true){if(b6!=null&&b6.$==1)return _3.SyncElemNode(false,b6.$0);else if(b6!=null&&b6.$==2){b9=b6.$0;b6=b9.Current;}else if(b6==null)return null;else if(b6!=null&&b6.$==5)return null;else if(b6!=null&&b6.$==4){b7=b6.$0;return b7.Dirty?(b7.Text.nodeValue=b7.Value,b7.Dirty=false):null;}else if(b6!=null&&b6.$==6){b8=b6.$0;m.iter(function(ca){_3.SyncElemNode(false,ca);},b8.Holes);m.iter(function(ca){bj.Sync(ca[0],ca[1]);},b8.Attrs);return _3.AfterRender(b8);}else{b_=b6.$1;b$=b6.$0;_3.Sync(b$);b6=b_;}}};_3.AfterRender=function(b6){var b7;b7=b2.GetOptional(b6.Render);if(b7!=null&&b7.$==1){b7.$0(b6.El);b2.SetOptional(b6,"Render",null);}};_3.DoSyncElement=function(b6){var b7,b8,b9;function b_(b$,ca){var cb,cc,cd,ce;while(true){if(b$!=null&&b$.$==1)return b$.$0.El;else if(b$!=null&&b$.$==2){cc=b$.$0;if(cc.Dirty){cc.Dirty=false;return _3.InsertDoc(b7,cc.Current,ca);}else b$=cc.Current;}else if(b$==null)return ca;else if(b$!=null&&b$.$==4)return b$.$0.Text;else if(b$!=null&&b$.$==5)return b$.$0;else if(b$!=null&&b$.$==6){cb=b$.$0;cb.Dirty?cb.Dirty=false:void 0;return m.foldBack(function(cf,cg){return cf==null||cf.constructor===G?b_(cf,cg):cf;},cb.Els,ca);}else{cd=b$.$1;ce=b$.$0;b$=ce;ca=b_(cd,ca);}}}b7=b6.El;bT.Iter((b8=b6.El,function(b$){bc.RemoveNode(b8,b$);}),bT.Except(bT.DocChildren(b6),bT.Children(b6.El,b2.GetOptional(b6.Delimiters))));b_(b6.Children,(b9=b2.GetOptional(b6.Delimiters),b9!=null&&b9.$==1?b9.$0[1]:null));};_4.$cctor=function(){_4.$cctor=a.ignore;_4.counter=0;};_5=f.DocElemNode=b2.Class({Equals:function(b6){return this.ElKey===b6.ElKey;},GetHashCode:function(){return this.ElKey;}},null,_5);_5.New=function(b6,b7,b8,b9,b_,b$){var ca;return new _5((ca={Attr:b6,Children:b7,El:b9,ElKey:b_},(b2.SetOptional(ca,"Delimiters",b8),b2.SetOptional(ca,"Render",b$),ca)));};_8=d.KeyNotFoundException=b2.Class({},_7,_8);_8.New=b2.Ctor(function(){_8.New$1.call(this,"The given key was not present in the dictionary.");},_8);_8.New$1=b2.Ctor(function(b6){this.message=b6;G.setPrototypeOf(this,_8.prototype);},_8);_=f.Elt=b2.Class({},K,_);_.TreeNode=function(b6,b7){var b8,b9;function b_(b$,ca){return bj.Updates(ca);}b8=bv.Create(b7);return new _.New$1({$:6,$0:b6},X.Map2Unit((b9=m.map(function(b$){return b_(b$[0],b$[1]);},b6.Attrs),bu.TreeReduce(X.Const(),X.Map2Unit,b9)),b8.v),m.get(b6.Els,0),b8);};_.New$1=b2.Ctor(function(b6,b7,b8,b9){K.New.call(this,b6,b7);this.docNode$1=b6;this.updates$1=b7;this.elt=b8;this.rvUpdates=b9;},_);X.Const=function(b6){var b7;b7=z.New({$:0,$0:b6});return function(){return b7;};};X.Sink=function(b6,b7){function b8(){z.WhenRun(b7(),b6,function(){bA.scheduler().Fork(b8);});}bA.scheduler().Fork(b8);};X.Map=function(b6,b7){return X.CreateLazy(function(){return z.Map(b6,b7());});};X.Map3=function(b6,b7,b8,b9){return X.CreateLazy(function(){return z.Map3(b6,b7(),b8(),b9());});};X.Sequence=function(b6){return X.CreateLazy(function(){return z.Sequence(P.map(function(b7){return b7();},b6));});};X.Map2=function(b6,b7,b8){return X.CreateLazy(function(){return z.Map2(b6,b7(),b8());});};X.Map2Unit=function(b6,b7){return X.CreateLazy(function(){return z.Map2Unit(b6(),b7());});};X.CreateLazy=function(b6){var b7;b7={c:null,o:b6};return function(){var b8,b9;b8=b7.c;return b8===null?(b8=b7.o(),b7.c=b8,(b9=b8.s,b9!=null&&b9.$==0)?b7.o=null:z.WhenObsoleteRun(b8,function(){b7.c=null;}),b8):b8;};};ba.convertTextNode=function(b6){var b7,b8,b9,b_,b$,ca;b7=null;b8=0;b_=b6.textContent;b$=new a.RegExp(J.TextHoleRE(),"g");while(b7=b$.exec(b_),b7!==null){b6.parentNode.insertBefore(self.document.createTextNode(bb.string(b_,{$:1,$0:b8},{$:1,$0:b$.lastIndex-m.get(b7,0).length-1})),b6);b8=b$.lastIndex;ca=self.document.createElement("span");ca.setAttribute("ws-replace",m.get(b7,1).toLowerCase());b6.parentNode.insertBefore(ca,b6);}b$.lastIndex=0;b6.textContent=bb.string(b_,{$:1,$0:b8},null);};ba.failNotLoaded=function(b6){b3.warn("Instantiating non-loaded template",b6);};ba.fillTextHole=function(b6,b7,b8){var b9;b9=b6.querySelector("[ws-replace]");return w.Equals(b9,null)?(b3.warn("Filling non-existent text hole",b8),null):(b9.parentNode.replaceChild(self.document.createTextNode(b7),b9),{$:1,$0:b9.getAttribute("ws-replace")});};ba.removeHolesExcept=function(b6,b7){function b8(b9){J.foreachNotPreserved(b6,"["+b9+"]",function(b_){if(!b7.Contains(b_.getAttribute(b9)))b_.removeAttribute(b9);});}b8("ws-attr");b8("ws-onafterrender");b8("ws-var");J.foreachNotPreserved(b6,"[ws-hole]",function(b9){if(!b7.Contains(b9.getAttribute("ws-hole"))){b9.removeAttribute("ws-hole");while(b9.hasChildNodes())b9.removeChild(b9.lastChild);}});J.foreachNotPreserved(b6,"[ws-replace]",function(b9){if(!b7.Contains(b9.getAttribute("ws-replace")))b9.parentNode.removeChild(b9);});J.foreachNotPreserved(b6,"[ws-on]",function(b9){b9.setAttribute("ws-on",p.concat(" ",m.filter(function(b_){return b7.Contains(m.get(p.SplitChars(b_,[":"],1),1));},p.SplitChars(b9.getAttribute("ws-on"),[" "],1))));});J.foreachNotPreserved(b6,"[ws-attr-holes]",function(b9){var b_,b$,ca,cb,cc;b_=p.SplitChars(b9.getAttribute("ws-attr-holes"),[" "],1);for(b$=0,ca=b_.length-1;b$<=ca;b$++){cb=m.get(b_,b$);b9.setAttribute(cb,(cc=new a.RegExp(J.TextHoleRE(),"g"),b9.getAttribute(cb).replace(cc,function(cd,ce){return b7.Contains(ce)?cd:"";})));}});};ba.fillInstanceAttrs=function(b6,b7){var b8,b9,b_,b$,ca;ba.convertAttrs(b7);b8=b7.nodeName.toLowerCase();b9=b6.querySelector("[ws-attr="+b8+"]");if(w.Equals(b9,null))b3.warn("Filling non-existent attr hole",b8);else{b9.removeAttribute("ws-attr");for(b_=0,b$=b7.attributes.length-1;b_<=b$;b_++){ca=b7.attributes.item(b_);if(ca.name=="class"&&b9.hasAttribute("class"))b9.setAttribute("class",b9.getAttribute("class")+" "+ca.nodeValue);else b9.setAttribute(ca.name,ca.nodeValue);}}};ba.mapHoles=function(b6,b7){function b8(b9){J.foreachNotPreserved(b6,"["+b9+"]",function(b_){var b$,ca;b$=(ca=null,[b7.TryGetValue(b_.getAttribute(b9).toLowerCase(),{get:function(){return ca;},set:function(cb){ca=cb;}}),ca]);if(b$[0])b_.setAttribute(b9,b$[1]);});}b8("ws-hole");b8("ws-replace");b8("ws-attr");b8("ws-onafterrender");b8("ws-var");J.foreachNotPreserved(b6,"[ws-on]",function(b9){b9.setAttribute("ws-on",p.concat(" ",m.map(function(b_){var b$,ca,cb;b$=p.SplitChars(b_,[":"],1);ca=(cb=null,[b7.TryGetValue(m.get(b$,1),{get:function(){return cb;},set:function(cc){cb=cc;}}),cb]);return ca[0]?m.get(b$,0)+":"+ca[1]:b_;},p.SplitChars(b9.getAttribute("ws-on"),[" "],1))));});J.foreachNotPreserved(b6,"[ws-attr-holes]",function(b9){var b_,b$,ca;b_=p.SplitChars(b9.getAttribute("ws-attr-holes"),[" "],1);for(b$=0,ca=b_.length-1;b$<=ca;b$++)(function(){var cb;function cc(cd,ce){var cf;cf=h.KeyValue(ce);return cd.replace(new a.RegExp("\\${"+cf[0]+"}","ig"),"${"+cf[1]+"}");}cb=m.get(b_,b$);return b9.setAttribute(cb,(((b2.Curried3(P.fold))(cc))(b9.getAttribute(cb)))(b7));}());});};ba.fill=function(b6,b7,b8){while(true)if(b6.hasChildNodes())b8=b7.insertBefore(b6.lastChild,b8);else return null;};ba.convertAttrs=function(b6){var b8,b9,b_,b$,ca,cb,cc,cd;function b7(ce){var cf;cf=b6.getAttribute(ce);if(cf==null);else b6.setAttribute(ce,cf.toLowerCase());}b8=b6.attributes;b9=[];b_=[];b$=[];for(ca=0,cb=b8.length-1;ca<=cb;ca++){cc=b8.item(ca);if(p.StartsWith(cc.nodeName,"ws-on")&&cc.nodeName!="ws-onafterrender"&&cc.nodeName!="ws-on"){b9.push(cc.nodeName);b_.push(bb.string(cc.nodeName,{$:1,$0:"ws-on".length},null)+":"+cc.nodeValue.toLowerCase());}else!p.StartsWith(cc.nodeName,"ws-")&&(new a.RegExp(J.TextHoleRE())).test(cc.nodeValue)?(cc.nodeValue=(cd=new a.RegExp(J.TextHoleRE(),"g"),cc.nodeValue.replace(cd,function(ce,cf){return"${"+cf.toLowerCase()+"}";})),b$.push(cc.nodeName)):void 0;}if(!(b_.length==0))b6.setAttribute("ws-on",p.concat(" ",b_));if(!(b$.length==0))b6.setAttribute("ws-attr-holes",p.concat(" ",b$));b7("ws-hole");b7("ws-replace");b7("ws-attr");b7("ws-onafterrender");b7("ws-var");m.iter(function(ce){b6.removeAttribute(ce);},b9);};bb.string=function(b6,b7,b8){var b9,b_;return b7==null?b8!=null&&b8.$==1?(b9=b8.$0,b9<0?"":b6.slice(0,b9+1)):"":b8==null?b6.slice(b7.$0):(b_=b8.$0,b_<0?"":b6.slice(b7.$0,b_+1));};bc.ParseHTMLIntoFakeRoot=function(b6){var b7,b8,b9,b_,b$;function ca(cb,cc){var cd;while(true)if(cc===0)return cb;else{cd=cc;cb=cb.lastChild;cc=cd-1;}}b7=self.document.createElement("div");return!bc.rhtml().test(b6)?(b7.appendChild(self.document.createTextNode(b6)),b7):(b8=(b9=bc.rtagName().exec(b6),w.Equals(b9,null)?"":m.get(b9,1).toLowerCase()),(b_=(b$=(bc.wrapMap())[b8],b$?b$:bc.defaultWrap()),(b7.innerHTML=b_[1]+b6.replace(bc.rxhtmlTag(),"<$1></$2>")+b_[2],ca(b7,b_[0]))));};bc.ChildrenArray=function(b6){var b7,b8,b9;b7=[];for(b8=0,b9=b6.childNodes.length-1;b8<=b9;b8++)b7.push(b6.childNodes[b8]);return b7;};bc.rhtml=function(){bE.$cctor();return bE.rhtml;};bc.wrapMap=function(){bE.$cctor();return bE.wrapMap;};bc.defaultWrap=function(){bE.$cctor();return bE.defaultWrap;};bc.rxhtmlTag=function(){bE.$cctor();return bE.rxhtmlTag;};bc.rtagName=function(){bE.$cctor();return bE.rtagName;};bc.IterSelector=function(b6,b7,b8){var b9,b_,b$;b9=b6.querySelectorAll(b7);for(b_=0,b$=b9.length-1;b_<=b$;b_++)b8(b9[b_]);};bc.IterSelectorDoc=function(b6,b7){var b8,b9,b_;b8=self.document.querySelectorAll(b6);for(b9=0,b_=b8.length-1;b9<=b_;b9++)b7(b8[b9]);};bc.InsertAt=function(b6,b7,b8){var b9;if(!(b8.parentNode===b6&&b7===(b9=b8.nextSibling,w.Equals(b9,null)?null:b9)))b6.insertBefore(b8,b7);};bc.RemoveNode=function(b6,b7){if(b7.parentNode===b6)b6.removeChild(b7);};P.insufficient=function(){return h.FailWith("The input sequence has an insufficient number of elements.");};P.nonNegative=function(){return h.FailWith("The input must be non-negative.");};bd=E.KeyCollection=b2.Class({GetEnumerator:function(){return _0.Get(P.map(function(b6){return b6.K;},this.d));}},e,bd);bd.New=b2.Ctor(function(b6){e.New.call(this);this.d=b6;},bd);be.get_UseAnimations=function(){return bB.UseAnimations();};be.Play=function(b6){var b7;b7=null;return bA.Delay(function(){return bA.Bind(be.Run(a.ignore,bB.Actions(b6)),function(){bB.Finalize(b6);return bA.Return(null);});});};be.Append=function(b6,b7){return{$:0,$0:bG.Append(b6.$0,b7.$0)};};be.Run=function(b6,b7){var b8;function b9(b_){function b$(ca){return function(cb){var cc;cc=cb-ca;b7.Compute(cc);b6();return cc<=b8?void a.requestAnimationFrame(function(cd){(b$(ca))(cd);}):b_();};}a.requestAnimationFrame(function(ca){(b$(ca))(ca);});}b8=b7.Duration;return b8===0?bA.Zero():bA.FromContinuations(function(b_,b$,ca){return b9.apply(null,[b_,b$,ca]);});};be.Concat=function(b6){return{$:0,$0:bG.Concat(P.map(bB.List,b6))};};be.get_Empty=function(){return{$:0,$0:bG.Empty()};};bf.BatchUpdatesEnabled=function(){bC.$cctor();return bC.BatchUpdatesEnabled;};bg.StartProcessor=function(b6){var b7;function b8(){var b9;b9=null;return bA.Delay(function(){return bA.Bind(b6,function(){var b_;b_=b7[0];return w.Equals(b_,1)?(b7[0]=0,bA.Zero()):w.Equals(b_,2)?(b7[0]=1,b8()):bA.Zero();});});}b7=[0];return function(){var b9;b9=b7[0];if(w.Equals(b9,0)){b7[0]=1;bA.Start(b8(),null);}else w.Equals(b9,1)?b7[0]=2:void 0;};};bi.New=function(b6,b7,b8,b9){var b_;b_={DynElem:b6,DynFlags:b7,DynNodes:b8};b2.SetOptional(b_,"OnAfterRender",b9);return b_;};bj.Insert=function(b6,b7){var b8,b9,b_;function b$(ca){var cb,cc;while(true)if(!(ca===null)){if(ca!=null&&ca.$==1)return b8.push(ca.$0);else if(ca!=null&&ca.$==2){cb=ca.$1;cc=ca.$0;b$(cc);ca=cb;}else return ca!=null&&ca.$==3?ca.$0(b6):ca!=null&&ca.$==4?b9.push(ca.$0):null;}else return null;}b8=[];b9=[];b$(b7);b_=b8.slice(0);return bi.New(b6,bj.Flags(b7),b_,b9.length===0?null:{$:1,$0:function(ca){P.iter(function(cb){cb(ca);},b9);}});};bj.Updates=function(b6){return bu.MapTreeReduce(function(b7){return b7.NChanged();},X.Const(),X.Map2Unit,b6.DynNodes);};bj.Empty=function(b6){return bi.New(b6,0,[],null);};bj.Flags=function(b6){return b6!==null&&b6.hasOwnProperty("flags")?b6.flags:0;};bj.Static=function(b6){return new bp({$:3,$0:b6});};bj.Dynamic=function(b6,b7){return new bp({$:1,$0:new bH.New(b6,b7)});};bj.EmptyAttr=function(){bI.$cctor();return bI.EmptyAttr;};bj.HasExitAnim=function(b6){var b7;b7=2;return(b6.DynFlags&b7)===b7;};bj.GetExitAnim=function(b6){return bj.GetAnim(b6,function(b7,b8){return b7.NGetExitAnim(b8);});};bj.HasEnterAnim=function(b6){var b7;b7=1;return(b6.DynFlags&b7)===b7;};bj.GetEnterAnim=function(b6){return bj.GetAnim(b6,function(b7,b8){return b7.NGetEnterAnim(b8);});};bj.HasChangeAnim=function(b6){var b7;b7=4;return(b6.DynFlags&b7)===b7;};bj.GetChangeAnim=function(b6){return bj.GetAnim(b6,function(b7,b8){return b7.NGetChangeAnim(b8);});};bj.AppendTree=function(b6,b7){var b8;return b6===null?b7:b7===null?b6:(b8=new bp({$:2,$0:b6,$1:b7}),(bj.SetFlags(b8,bj.Flags(b6)|bj.Flags(b7)),b8));};bj.GetAnim=function(b6,b7){return be.Concat(m.map(function(b8){return b7(b8,b6.DynElem);},b6.DynNodes));};bj.Sync=function(b6,b7){m.iter(function(b8){b8.NSync(b6);},b7.DynNodes);};bj.SetFlags=function(b6,b7){b6.flags=b7;};bk=C.Elt=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;}},r,bk);bl=C.Text=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;},get_AsChoiceView:function(){return{$:0,$0:this.fillWith};}},r,bl);bm=C.Attribute=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;}},r,bm);bn=C.Event=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;}},r,bn);bo.Handler=function(b6,b7){return bj.Static(function(b8){b8.addEventListener(b6,function(b9){return(b7(b8))(b9);},false);});};bo.OnAfterRender=function(b6){return new bp({$:4,$0:b6});};bo.Dynamic=function(b6,b7){return bj.Dynamic(b7,function(b8){return function(b9){return b8.setAttribute(b6,b9);};});};bo.Value=function(b6){return bo.ValueWith(bP.StringApply(),b6);};bo.FloatValueUnchecked=function(b6){return bo.ValueWith(bP.FloatApplyUnchecked(),b6);};bo.Checked=function(b6){return bo.ValueWith(bP.BoolCheckedApply(),b6);};bo.DateTimeValue=function(b6){return bo.ValueWith(bP.DateTimeApplyUnchecked(),b6);};bo.FileValue=function(b6){return bo.ValueWith(bP.FileApplyUnchecked(),b6);};bo.ValueWith=function(b6,b7){var b8;b8=b6(b7);return bp.Append(bj.Static(b8[0]),bo.DynamicCustom(b8[1],b8[2]));};bo.DynamicCustom=function(b6,b7){return bj.Dynamic(b7,b6);};bp=f.AttrProxy=b2.Class({},null,bp);bp.Handler=function(b6,b7){return bp.HandlerImpl(b6,b7);};bp.Concat=function(b6){var b7;b7=bu.ofSeqNonCopying(b6);return bu.TreeReduce(bj.EmptyAttr(),bp.Append,b7);};bp.Create=function(b6,b7){return bj.Static(function(b8){b8.setAttribute(b6,b7);});};bp.HandlerImpl=function(b6,b7){return bj.Static(function(b8){b8.addEventListener(b6,function(b9){return(b7(b8))(b9);},false);});};bp.Append=function(b6,b7){return bj.AppendTree(b6,b7);};bq=C.AfterRender=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;}},r,bq);br=C.AfterRenderQ=b2.Class({get_Value:function(){return this.fillWith;},get_ValueObj:function(){return this.get_Value();},get_Name:function(){return this.name;}},r,br);bt=bs.T=b2.Class({GetEnumerator:function(){return new _1.New(this,null,function(b6){var b7;b7=b6.s;return b7.$==0?false:(b6.c=b7.$0,b6.s=b7.$1,true);},void 0);}},null,bt);bt.Empty=new bt({$:0});bu.TreeReduce=function(b6,b7,b8){var b9;function b_(b$){return function(ca){var cb,cc;switch(ca<=0?0:ca===1?b$>=0&&b$<b9?1:(cb=ca,2):(cb=ca,2)){case 0:return b6;case 1:return m.get(b8,b$);case 2:cc=ca/2>>0;return b7((b_(b$))(cc),(b_(b$+cc))(ca-cc));}};}b9=m.length(b8);return(b_(0))(b9);};bu.MapTreeReduce=function(b6,b7,b8,b9){var b_;function b$(ca){return function(cb){var cc,cd;switch(cb<=0?0:cb===1?ca>=0&&ca<b_?1:(cc=cb,2):(cc=cb,2)){case 0:return b7;case 1:return b6(m.get(b9,ca));case 2:cd=cb/2>>0;return b8((b$(ca))(cd),(b$(ca+cd))(cb-cd));}};}b_=m.length(b9);return(b$(0))(b_);};bu.ofSeqNonCopying=function(b6){var b7,b8;if(b6 instanceof a.Array)return b6;else if(b6 instanceof bt)return m.ofList(b6);else if(b6===null)return[];else{b7=[];b8=_0.Get(b6);try{while(b8.MoveNext())b7.push(b8.Current());return b7;}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}}};bv=f.Updates=b2.Class({},null,bv);bv.Create=function(b6){var b7;b7=null;b7=bv.New(b6,null,function(){var b8;b8=b7.s;return b8===null?(b8=z.Copy(b7.c()),b7.s=b8,z.WhenObsoleteRun(b8,function(){b7.s=null;}),b8):b8;});return b7;};bv.New=function(b6,b7,b8){return new bv({c:b6,s:b7,v:b8});};bw=E.ValueCollection=b2.Class({GetEnumerator:function(){return _0.Get(P.map(function(b6){return b6.V;},this.d));}},e,bw);bw.New=b2.Ctor(function(b6){e.New.call(this);this.d=b6;},bw);by.New=function(b6,b7){return{PreviousNodes:b6,Top:b7};};bz.get_Empty=function(){return{$:0,$0:new O.New$3()};};bz.FindAll=function(b6){var b7;function b8(b$,ca){var cb,cc,cd,ce,cf;while(true)switch(b$){case 0:if(ca!=null&&ca.$==0){cc=ca.$1;cd=ca.$0;b8(0,cd);ca=cc;}else if(ca!=null&&ca.$==1){ce=ca.$0;ca=ce;b$=1;}else if(ca!=null&&ca.$==2){cf=ca.$0;ca=cf.Current;}else return ca!=null&&ca.$==6?(cb=ca.$0.Holes,(function(cg){return function(ch){m.iter(cg,ch);};}(b_))(cb)):null;break;case 1:b7.push(ca);ca=ca.Children;b$=0;break;}}function b9(b$){return b8(0,b$);}function b_(b$){return b8(1,b$);}b7=[];b9(b6);return{$:0,$0:new O.New$2(b7)};};bz.Filter=function(b6,b7){return{$:0,$0:bO.Filter(b6,b7.$0)};};bz.Except=function(b6,b7){return{$:0,$0:bO.Except(b6.$0,b7.$0)};};bz.ToArray=function(b6){return bO.ToArray(b6.$0);};bz.Intersect=function(b6,b7){return{$:0,$0:bO.Intersect(b6.$0,b7.$0)};};bA.Delay=function(b6){return function(b7){try{(b6(null))(b7);}catch(b8){b7.k({$:1,$0:b8});}};};bA.Bind=function(b6,b7){return bA.checkCancel(function(b8){b6(bL.New(function(b9){var b_;if(b9.$==0){b_=b9.$0;bA.scheduler().Fork(function(){try{(b7(b_))(b8);}catch(b$){b8.k({$:1,$0:b$});}});}else bA.scheduler().Fork(function(){b8.k(b9);});},b8.ct));});};bA.Zero=function(){bM.$cctor();return bM.Zero;};bA.Start=function(b6,b7){var b8,b9;b8=(b9=(bA.defCTS())[0],b7==null?b9:b7.$0);bA.scheduler().Fork(function(){if(!b8.c)b6(bL.New(function(b_){if(b_.$==1)bA.UncaughtAsyncError(b_.$0);},b8));});};bA.Return=function(b6){return function(b7){b7.k({$:0,$0:b6});};};bA.scheduler=function(){bM.$cctor();return bM.scheduler;};bA.checkCancel=function(b6){return function(b7){if(b7.ct.c)bA.cancel(b7);else b6(b7);};};bA.defCTS=function(){bM.$cctor();return bM.defCTS;};bA.UncaughtAsyncError=function(b6){b3.log("WebSharper: Uncaught asynchronous exception",b6);};bA.FromContinuations=function(b6){return function(b7){var b8;function b9(b_){if(b8[0])h.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{b8[0]=true;bA.scheduler().Fork(b_);}}b8=[false];b6(function(b_){b9(function(){b7.k({$:0,$0:b_});});},function(b_){b9(function(){b7.k({$:1,$0:b_});});},function(b_){b9(function(){b7.k({$:2,$0:b_});});});};};bA.cancel=function(b6){b6.k({$:2,$0:new bW.New(b6.ct)});};bB.UseAnimations=function(){bF.$cctor();return bF.UseAnimations;};bB.Actions=function(b6){return bB.ConcatActions(m.choose(function(b7){return b7.$==1?{$:1,$0:b7.$0}:null;},bG.ToArray(b6.$0)));};bB.Finalize=function(b6){m.iter(function(b7){if(b7.$==0)b7.$0();},bG.ToArray(b6.$0));};bB.ConcatActions=function(b6){var b7,b8,b9,b_;b7=bu.ofSeqNonCopying(b6);b8=m.length(b7);return b8===0?bB.Const():b8===1?m.get(b7,0):(b9=P.max(P.map(function(b$){return b$.Duration;},b7)),(b_=m.map(function(b$){return bB.Prolong(b9,b$);},b7),bB.Def(b9,function(b$){m.iter(function(ca){ca.Compute(b$);},b_);})));};bB.List=function(b6){return b6.$0;};bB.Const=function(b6){return bB.Def(0,function(){return b6;});};bB.Def=function(b6,b7){return{Compute:b7,Duration:b6};};bB.Prolong=function(b6,b7){var b8,b9,b_;b8=b7.Compute;b9=b7.Duration;b_=bX.Create(function(){return b7.Compute(b7.Duration);});return{Compute:function(b$){return b$>=b9?b_.f():b8(b$);},Duration:b6};};bC.$cctor=function(){bC.$cctor=a.ignore;bC.BatchUpdatesEnabled=true;};bD.concat=function(b6){var b7,b8;b7=[];for(var b9 in b6)b7.push.apply(b7,b6[b9]);return b7;};bE.$cctor=function(){var b6;bE.$cctor=a.ignore;bE.rxhtmlTag=new a.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi");bE.rtagName=new a.RegExp("<([\\w:]+)");bE.rhtml=new a.RegExp("<|&#?\\w+;");bE.wrapMap=(b6=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:b6,tbody:b6,tfoot:b6,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]});bE.defaultWrap=[0,"",""];};bF.$cctor=function(){bF.$cctor=a.ignore;bF.CubicInOut=bK.Custom(function(b6){var b7;b7=b6*b6;return 3*b7-2*(b7*b6);});bF.UseAnimations=true;};bG.Append=function(b6,b7){return b6.$==0?b7:b7.$==0?b6:{$:2,$0:b6,$1:b7};};bG.ToArray=function(b6){var b7;function b8(b9){var b_,b$;while(true)if(b9.$==1)return b7.push(b9.$0);else if(b9.$==2){b_=b9.$1;b$=b9.$0;b8(b$);b9=b_;}else return b9.$==3?m.iter(function(ca){b7.push(ca);},b9.$0):null;}b7=[];b8(b6);return b7.slice(0);};bG.Concat=function(b6){var b7;b7=bu.ofSeqNonCopying(b6);return bu.TreeReduce(bG.Empty(),bG.Append,b7);};bG.Empty=function(){bY.$cctor();return bY.Empty;};bH=f.DynamicAttrNode=b2.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(b6){return be.get_Empty();},NGetEnterAnim:function(b6){return be.get_Empty();},NGetChangeAnim:function(b6){return be.get_Empty();},NSync:function(b6){if(this.dirty){(this.push(b6))(this.value);this.dirty=false;}}},e,bH);bH.New=b2.Ctor(function(b6,b7){var b8;b8=this;e.New.call(this);this.push=b7;this.value=void 0;this.dirty=false;this.updates=X.Map(function(b9){b8.value=b9;b8.dirty=true;},b6);},bH);bI.$cctor=function(){var b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch;bI.$cctor=a.ignore;bI.EmptyAttr=null;bI.BoolCheckedApply=function(ci){function cj(ck,cl){return cl!=null&&cl.$==1?void(ck.checked=cl.$0):null;}return[function(ck){ck.addEventListener("change",function(){return ci.Get()!=ck.checked?ci.Set(ck.checked):null;});},function(ck){return function(cl){return cj(ck,cl);};},X.Map(function(ck){return{$:1,$0:ck};},ci.get_View())];};bI.StringSet=function(ci){return function(cj){ci.value=cj;};};bI.StringGet=function(ci){return{$:1,$0:ci.value};};bI.StringApply=(b6=bP.StringGet(),(b7=bP.StringSet(),function(ci){return bP.ApplyValue(b6,b7,ci);}));bI.DateTimeSetUnchecked=function(ci){return function(cj){ci.value=(new a.Date(cj)).toLocaleString();};};bI.DateTimeGetUnchecked=function(ci){var cj,ck,cl,cm;cj=ci.value;return bQ.isBlank(cj)?{$:1,$0:-8640000000000000}:(ck=(cl=0,[(cm=bV.TryParse(cj),cm!=null&&cm.$==1&&(cl=cm.$0,true)),cl]),ck[0]?{$:1,$0:ck[1]}:null);};bI.DateTimeApplyUnchecked=(b8=bP.DateTimeGetUnchecked(),(b9=bP.DateTimeSetUnchecked(),function(ci){return bP.ApplyValue(b8,b9,ci);}));bI.FileSetUnchecked=function(){return function(){return null;};};bI.FileGetUnchecked=function(ci){var cj;cj=ci.files;return{$:1,$0:m.ofSeq(P.delay(function(){return P.map(function(ck){return cj.item(ck);},h.range(0,cj.length-1));}))};};bI.FileApplyUnchecked=(b_=bP.FileGetUnchecked(),(b$=bP.FileSetUnchecked(),function(ci){return bP.FileApplyValue(b_,b$,ci);}));bI.IntSetUnchecked=function(ci){return function(cj){ci.value=a.String(cj);};};bI.IntGetUnchecked=function(ci){var cj,ck;cj=ci.value;return bQ.isBlank(cj)?{$:1,$0:0}:(ck=+cj,ck!==ck>>0?null:{$:1,$0:ck});};bI.IntApplyUnchecked=(ca=bP.IntGetUnchecked(),(cb=bP.IntSetUnchecked(),function(ci){return bP.ApplyValue(ca,cb,ci);}));bI.IntSetChecked=function(ci){return function(cj){var ck;ck=cj.get_Input();return ci.value!=ck?void(ci.value=ck):null;};};bI.IntGetChecked=function(ci){var cj,ck,cl;cj=ci.value;return{$:1,$0:bQ.isBlank(cj)?(ci.checkValidity?ci.checkValidity():true)?new bR({$:2,$0:cj}):new bR({$:1,$0:cj}):(ck=(cl=0,[Y.TryParseInt32(cj,{get:function(){return cl;},set:function(cm){cl=cm;}}),cl]),ck[0]?new bR({$:0,$0:ck[1],$1:cj}):new bR({$:1,$0:cj}))};};bI.IntApplyChecked=(cc=bP.IntGetChecked(),(cd=bP.IntSetChecked(),function(ci){return bP.ApplyValue(cc,cd,ci);}));bI.FloatSetUnchecked=function(ci){return function(cj){ci.value=a.String(cj);};};bI.FloatGetUnchecked=function(ci){var cj,ck;cj=ci.value;return bQ.isBlank(cj)?{$:1,$0:0}:(ck=+cj,a.isNaN(ck)?null:{$:1,$0:ck});};bI.FloatApplyUnchecked=(ce=bP.FloatGetUnchecked(),(cf=bP.FloatSetUnchecked(),function(ci){return bP.ApplyValue(ce,cf,ci);}));bI.FloatSetChecked=function(ci){return function(cj){var ck;ck=cj.get_Input();return ci.value!=ck?void(ci.value=ck):null;};};bI.FloatGetChecked=function(ci){var cj,ck;cj=ci.value;return{$:1,$0:bQ.isBlank(cj)?(ci.checkValidity?ci.checkValidity():true)?new bR({$:2,$0:cj}):new bR({$:1,$0:cj}):(ck=+cj,a.isNaN(ck)?new bR({$:1,$0:cj}):new bR({$:0,$0:ck,$1:cj}))};};bI.FloatApplyChecked=(cg=bP.FloatGetChecked(),(ch=bP.FloatSetChecked(),function(ci){return bP.ApplyValue(cg,ch,ci);}));};bJ=bA.Scheduler=b2.Class({Fork:function(b6){var b7;b7=this;this.robin.push(b6);if(this.idle){this.idle=false;a.setTimeout(function(){b7.tick();},0);}},tick:function(){var b6,b7,b8;b7=this;b8=b5.now();b6=true;while(b6)if(this.robin.length===0){this.idle=true;b6=false;}else{(this.robin.shift())();b5.now()-b8>40?(a.setTimeout(function(){b7.tick();},0),b6=false):void 0;}}},e,bJ);bJ.New=b2.Ctor(function(){e.New.call(this);this.idle=true;this.robin=[];},bJ);bK=f.Easing=b2.Class({},e,bK);bK.Custom=function(b6){return new bK.New(b6);};bK.New=b2.Ctor(function(b6){e.New.call(this);this.transformTime=b6;},bK);bL.New=function(b6,b7){return{k:b6,ct:b7};};bM.$cctor=function(){bM.$cctor=a.ignore;bM.noneCT=bN.New(false,[]);bM.scheduler=new bJ.New();bM.defCTS=[new bS.New()];bM.Zero=bA.Return();bM.GetCT=function(b6){b6.k({$:0,$0:b6.ct});};};bN.New=function(b6,b7){return{c:b6,r:b7};};bO.Filter=function(b6,b7){return new O.New$2(m.filter(b6,bO.ToArray(b7)));};bO.Except=function(b6,b7){var b8;b8=new O.New$2(bO.ToArray(b7));b8.ExceptWith(bO.ToArray(b6));return b8;};bO.ToArray=function(b6){var b7;b7=m.create(b6.Count(),void 0);b6.CopyTo(b7,0);return b7;};bO.Intersect=function(b6,b7){var b8;b8=new O.New$2(bO.ToArray(b6));b8.IntersectWith(bO.ToArray(b7));return b8;};bs.head=function(b6){return b6.$==1?b6.$0:bs.listEmpty();};bs.tail=function(b6){return b6.$==1?b6.$1:bs.listEmpty();};bs.listEmpty=function(){return h.FailWith("The input list was empty.");};bP.ApplyValue=function(b6,b7,b8){var b9;function b_(b$,ca){return ca==null?null:b$(ca.$0);}b9=null;return[function(b$){function ca(){b8.UpdateMaybe(function(cb){var cc;b9=b6(b$);return b9!=null&&b9.$==1&&(!w.Equals(b9.$0,cb)&&(cc=[b9,b9.$0],true))?cc[0]:null;});}b$.addEventListener("change",ca);b$.addEventListener("input",ca);b$.addEventListener("keypress",ca);},function(b$){var ca;ca=b7(b$);return function(cb){return b_(ca,cb);};},X.Map(function(b$){var ca;return b9!=null&&b9.$==1&&(w.Equals(b9.$0,b$)&&(ca=b9.$0,true))?null:{$:1,$0:b$};},b8.get_View())];};bP.StringSet=function(){bI.$cctor();return bI.StringSet;};bP.StringGet=function(){bI.$cctor();return bI.StringGet;};bP.DateTimeSetUnchecked=function(){bI.$cctor();return bI.DateTimeSetUnchecked;};bP.DateTimeGetUnchecked=function(){bI.$cctor();return bI.DateTimeGetUnchecked;};bP.FileApplyValue=function(b6,b7,b8){var b9;function b_(b$,ca){return ca==null?null:b$(ca.$0);}b9=null;return[function(b$){b$.addEventListener("change",function(){b8.UpdateMaybe(function(ca){var cb;b9=b6(b$);return b9!=null&&b9.$==1&&(b9.$0!==ca&&(cb=[b9,b9.$0],true))?cb[0]:null;});});},function(b$){var ca;ca=b7(b$);return function(cb){return b_(ca,cb);};},X.Map(function(b$){var ca;return b9!=null&&b9.$==1&&(w.Equals(b9.$0,b$)&&(ca=b9.$0,true))?null:{$:1,$0:b$};},b8.get_View())];};bP.FileSetUnchecked=function(){bI.$cctor();return bI.FileSetUnchecked;};bP.FileGetUnchecked=function(){bI.$cctor();return bI.FileGetUnchecked;};bP.IntSetUnchecked=function(){bI.$cctor();return bI.IntSetUnchecked;};bP.IntGetUnchecked=function(){bI.$cctor();return bI.IntGetUnchecked;};bP.IntSetChecked=function(){bI.$cctor();return bI.IntSetChecked;};bP.IntGetChecked=function(){bI.$cctor();return bI.IntGetChecked;};bP.FloatSetUnchecked=function(){bI.$cctor();return bI.FloatSetUnchecked;};bP.FloatGetUnchecked=function(){bI.$cctor();return bI.FloatGetUnchecked;};bP.FloatSetChecked=function(){bI.$cctor();return bI.FloatSetChecked;};bP.FloatGetChecked=function(){bI.$cctor();return bI.FloatGetChecked;};bP.StringApply=function(){bI.$cctor();return bI.StringApply;};bP.FloatApplyUnchecked=function(){bI.$cctor();return bI.FloatApplyUnchecked;};bP.BoolCheckedApply=function(){bI.$cctor();return bI.BoolCheckedApply;};bP.DateTimeApplyUnchecked=function(){bI.$cctor();return bI.DateTimeApplyUnchecked;};bP.FileApplyUnchecked=function(){bI.$cctor();return bI.FileApplyUnchecked;};bQ.isBlank=function(b6){return p.forall(bU.IsWhiteSpace,b6);};bR=f.CheckedInput=b2.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,bR);bS=d.CancellationTokenSource=b2.Class({},e,bS);bS.New=b2.Ctor(function(){e.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bS);bT.Children=function(b6,b7){var b8,b9,b_;if(b7!=null&&b7.$==1){b_=[];b8=b7.$0[0].nextSibling;while(b8!==b7.$0[1]){b_.push(b8);b8=b8.nextSibling;}return{$:0,$0:b_};}else return{$:0,$0:m.init(b6.childNodes.length,(b9=b6.childNodes,function(b$){return b9[b$];}))};};bT.Except=function(b6,b7){var b8;b8=b6.$0;return{$:0,$0:m.filter(function(b9){return m.forall(function(b_){return!(b9===b_);},b8);},b7.$0)};};bT.Iter=function(b6,b7){m.iter(b6,b7.$0);};bT.DocChildren=function(b6){var b7;function b8(b9){var b_,b$,ca,cb;while(true){if(b9!=null&&b9.$==2){b$=b9.$0;b9=b$.Current;}else if(b9!=null&&b9.$==1)return b7.push(b9.$0.El);else if(b9==null)return null;else if(b9!=null&&b9.$==5)return b7.push(b9.$0);else if(b9!=null&&b9.$==4)return b7.push(b9.$0.Text);else if(b9!=null&&b9.$==6){b_=b9.$0.Els;return(function(cc){return function(cd){m.iter(cc,cd);};}(function(cc){if(cc==null||cc.constructor===G)b8(cc);else b7.push(cc);}))(b_);}else{ca=b9.$1;cb=b9.$0;b8(cb);b9=ca;}}}b7=[];b8(b6.Children);return{$:0,$0:bu.ofSeqNonCopying(b7)};};bU.IsWhiteSpace=function(b6){return b6.match(new a.RegExp("\\s"))!==null;};bV.TryParse=function(b6){var b7;b7=b5.parse(b6);return a.isNaN(b7)?null:{$:1,$0:b7};};Y.TryParse=function(b6,b7,b8,b9){var b_,b$;b_=+b6;b$=b_===b_-b_%1&&b_>=b7&&b_<=b8;if(b$)b9.set(b_);return b$;};bW=d.OperationCanceledException=b2.Class({},_7,bW);bW.New=b2.Ctor(function(b6){bW.New$1.call(this,"The operation was canceled.",null,b6);},bW);bW.New$1=b2.Ctor(function(b6,b7,b8){this.message=b6;this.inner=b7;G.setPrototypeOf(this,bW.prototype);this.ct=b8;},bW);bX.Create=function(b6){return b1.New(false,b6,bX.forceLazy);};bX.forceLazy=function(){var b6;b6=this.v();this.c=true;this.v=b6;this.f=bX.cachedLazy;return b6;};bX.cachedLazy=function(){return this.v;};bY.$cctor=function(){bY.$cctor=a.ignore;bY.Empty={$:0};};bZ.Clear=function(b6){b6.splice(0,m.length(b6));};b1.New=function(b6,b7,b8){return{c:b6,v:b7,f:b8};};b2.OnLoad(function(){c.Main();});}(self));


if (typeof WebSharper !=='undefined') {
  WebSharper.Runtime.ScriptBasePath = '/Content/';
  WebSharper.Runtime.Start();
}
